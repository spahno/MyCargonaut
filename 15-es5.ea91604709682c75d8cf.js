!function(){function e(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){o=!0,c=e},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw c}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=o(e);if(t){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{qOEh:function(t,r,a){"use strict";a.r(r),a.d(r,"GesuchPageModule",(function(){return ee}));var o=a("ofXK"),u=a("3Pt+"),h=a("TEn/"),b=a("tyNb"),f=a("mrSG"),l=a("Oj1a"),d=a("fXoL"),g=a("wHfo"),p=a("ZETX"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,e);var t=c(r);function r(){var e;return n(this,r),(e=t.apply(this,arguments)).fahrer=[],e.interessenten=[],e}return i(r,[{key:"getInteressenten",value:function(){var e=[];return this.interessenten.forEach((function(t){e.push(JSON.parse(t))})),e}},{key:"addInteressent",value:function(e){return this.interessenten.push(JSON.stringify(e)),this}},{key:"deleteInteressent",value:function(e){return this.interessenten=this.interessenten.filter((function(t){return JSON.parse(t).userId!==e.userId&&JSON.parse(t).objectId!==e.fahrzeugId})),this}},{key:"isInteressent",value:function(e){for(var t=!1,n=this.getInteressenten(),r=0;r<n.length;r++)if(t=n[r].userId===e,r+1===n.length)return t}},{key:"getFahrer",value:function(){var e=[];return this.fahrer.forEach((function(t){e.push(JSON.parse(t))})),e}},{key:"addFahrer",value:function(e){return this.fahrer.push(JSON.stringify(e)),this}},{key:"deleteFahrer",value:function(e){return this.fahrer=this.fahrer.filter((function(t){return JSON.parse(t).userId!==e.userId&&JSON.parse(t).objectId!==e.fahrzeugId})),this}},{key:"isFahrer",value:function(e){for(var t=!1,n=this.getFahrer(),r=0;r<n.length;r++)if(t=n[r].userId===e,n[r].userId===e&&r+1===n.length)return t}}]),r}(a("QIET").a),m=function e(){n(this,e)},y=a("euJG"),I=a("88mt"),k=a("AS9q");function M(e,t){1&e&&(d.Nb(0,"ion-item",7),d.Nb(1,"ion-label",3),d.ic(2," Fahrzeug: "),d.Mb(),d.Nb(3,"ion-label"),d.ic(4," Mercedes Vito "),d.Mb(),d.Mb())}function N(e,t){if(1&e&&(d.Lb(0),d.Nb(1,"ion-item",7),d.Nb(2,"ion-label",3),d.ic(3," Ersteller: "),d.Mb(),d.Nb(4,"ion-avatar",12),d.Jb(5,"img",13),d.Mb(),d.Nb(6,"ion-label"),d.ic(7),d.Mb(),d.Mb(),d.Nb(8,"ion-item",7),d.Nb(9,"ion-label",3),d.ic(10," Telefon: "),d.Mb(),d.Nb(11,"ion-label"),d.ic(12),d.Mb(),d.Mb(),d.Kb()),2&e){var n=d.Xb(2);d.yb(5),d.bc("src",n.ersteller.profileImage||"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y",d.fc),d.yb(2),d.lc(" ",n.ersteller.vorname||"Ladefehler"," ",n.ersteller.nachname||"Ladefehler"," "),d.yb(5),d.kc(" ",n.ersteller.telefon||"Ladefehler"," ")}}function w(e,t){1&e&&(d.Nb(0,"ion-item",7),d.Nb(1,"ion-label",3),d.ic(2," Ersteller: "),d.Mb(),d.Nb(3,"ion-label"),d.Nb(4,"em"),d.ic(5,"Fehler bei dem Darstellen des Erstellers!"),d.Mb(),d.Mb(),d.Mb())}function O(e,t){1&e&&(d.Nb(0,"ion-label"),d.Nb(1,"em"),d.ic(2,"Es gibt noch keine Interessenten."),d.Mb(),d.Mb())}function F(e,t){if(1&e){var n=d.Ob();d.Nb(0,"ion-item",15),d.Nb(1,"ion-avatar",3),d.Jb(2,"img",13),d.Mb(),d.Nb(3,"ion-label"),d.ic(4),d.Mb(),d.Jb(5,"ion-icon",16),d.Nb(6,"ion-icon",17),d.Vb("click",(function(){d.ec(n);var e=t.$implicit;return d.Xb(3).interessentAnnehmen(e.interessent)})),d.Mb(),d.Nb(7,"ion-icon",18),d.Vb("click",(function(){d.ec(n);var e=t.$implicit;return d.Xb(3).interessentEntfernen(e.interessent)})),d.Mb(),d.Mb()}if(2&e){var r=t.$implicit;d.yb(2),d.bc("src",r.user.profileImage||"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y",d.fc),d.yb(2),d.lc(" ",r.user.vorname," ",r.user.nachname," ")}}function S(e,t){1&e&&(d.Nb(0,"ion-label"),d.Nb(1,"em"),d.ic(2,"Es wurden noch keine Interessenten angenommen."),d.Mb(),d.Mb())}function x(e,t){if(1&e&&(d.Nb(0,"ion-item",15),d.Nb(1,"ion-avatar",3),d.Jb(2,"img",13),d.Mb(),d.Nb(3,"ion-label"),d.ic(4),d.Mb(),d.Jb(5,"ion-icon",16),d.Mb()),2&e){var n=t.$implicit;d.yb(2),d.bc("src",n.user.profileImage||"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y",d.fc),d.yb(2),d.lc(" ",n.user.vorname," ",n.user.nachname," ")}}function A(e,t){if(1&e&&(d.Lb(0),d.Nb(1,"ion-item",2),d.Nb(2,"ion-label",3),d.ic(3,"Interessenten:"),d.Mb(),d.hc(4,O,3,0,"ion-label",0),d.Mb(),d.hc(5,F,8,3,"ion-item",14),d.Nb(6,"ion-item",2),d.Nb(7,"ion-label",3),d.ic(8,"Fahrer:"),d.Mb(),d.hc(9,S,3,0,"ion-label",0),d.Mb(),d.hc(10,x,6,3,"ion-item",14),d.Kb()),2&e){var n=d.Xb(2);d.yb(4),d.ac("ngIf",0===n.interessenten.length),d.yb(1),d.ac("ngForOf",n.interessenten),d.yb(4),d.ac("ngIf",0===n.fahrer.length),d.yb(1),d.ac("ngForOf",n.fahrer)}}function C(e,t){if(1&e){var n=d.Ob();d.Nb(0,"ion-button",21),d.Vb("click",(function(){return d.ec(n),d.Xb(3).starteFahrt()})),d.ic(1,"Fahrt starten"),d.Mb()}}function j(e,t){if(1&e){var n=d.Ob();d.Nb(0,"ion-button",21),d.Vb("click",(function(){return d.ec(n),d.Xb(3).fahrtBeenden()})),d.ic(1,"Fahrt beenden"),d.Mb()}}function G(e,t){if(1&e&&(d.Nb(0,"div",19),d.hc(1,C,2,0,"ion-button",20),d.hc(2,j,2,0,"ion-button",20),d.Mb()),2&e){var n=d.Xb(2);d.yb(1),d.ac("ngIf",!n.gesuch.fahrtId),d.yb(1),d.ac("ngIf",n.gesuch.fahrtId)}}function J(e,t){1&e&&(d.Nb(0,"ion-button",23),d.Nb(1,"em"),d.ic(2,"Anfrage ausstehend"),d.Mb(),d.Mb())}function E(e,t){1&e&&(d.Nb(0,"ion-button",23),d.Nb(1,"em"),d.ic(2,"Anfrage abgelehnt"),d.Mb(),d.Mb())}function _(e,t){1&e&&(d.Nb(0,"ion-button",23),d.Nb(1,"em"),d.ic(2,"Tracking gesendet"),d.Mb(),d.Mb())}function z(e,t){1&e&&(d.Nb(0,"ion-button",23),d.Nb(1,"em"),d.ic(2,"Fahrt tracken"),d.Mb(),d.Mb())}function P(e,t){if(1&e){var n=d.Ob();d.Nb(0,"ion-button",21),d.Vb("click",(function(){return d.ec(n),d.Xb(3).gesuchAnfragen()})),d.ic(1,"Anfragen"),d.Mb()}}function U(e,t){if(1&e&&(d.Nb(0,"div",19),d.hc(1,J,3,0,"ion-button",22),d.hc(2,E,3,0,"ion-button",22),d.hc(3,_,3,0,"ion-button",22),d.hc(4,z,3,0,"ion-button",22),d.hc(5,P,2,0,"ion-button",20),d.Mb()),2&e){var n=d.Xb(2);d.yb(1),d.ac("ngIf",n.gesuch.fahrtId&&n.gesuch.isInteressent(n.user.id)),d.yb(1),d.ac("ngIf",!n.gesuch.fahrtId&&n.gesuch.isInteressent(n.user.id)),d.yb(1),d.ac("ngIf",!n.gesuch.fahrtId&&n.gesuch.isFahrer(n.user.id)),d.yb(1),d.ac("ngIf",n.gesuch.fahrtId&&n.gesuch.isFahrer(n.user.id)),d.yb(1),d.ac("ngIf",!n.gesuch.isInteressent(n.user.id)&&!n.gesuch.isFahrer(n.user.id))}}function D(e,t){if(1&e){var n=d.Ob();d.Nb(0,"div"),d.Nb(1,"ion-card",1),d.Nb(2,"ion-item",2),d.Nb(3,"h3",3),d.ic(4),d.Mb(),d.Nb(5,"ion-badge",4),d.ic(6),d.Mb(),d.Mb(),d.Nb(7,"ion-item",2),d.Nb(8,"h4",3),d.ic(9),d.Mb(),d.Jb(10,"ion-icon",5),d.Nb(11,"h4",6),d.ic(12),d.Mb(),d.Mb(),d.Nb(13,"ion-item",7),d.Nb(14,"p",3),d.ic(15,"Ankunft:"),d.Mb(),d.Nb(16,"p",6),d.ic(17),d.Mb(),d.Mb(),d.Nb(18,"ion-icon",8),d.Vb("click",(function(){d.ec(n);var e=d.Xb();return e.dropdown=!e.dropdown})),d.Mb(),d.Mb(),d.Nb(19,"ion-card",9),d.hc(20,M,5,0,"ion-item",10),d.Nb(21,"ion-item",7),d.Nb(22,"ion-label",3),d.ic(23," Start Adresse: "),d.Mb(),d.Nb(24,"ion-label"),d.ic(25),d.Jb(26,"br"),d.ic(27),d.Mb(),d.Mb(),d.Nb(28,"ion-item",7),d.Nb(29,"ion-label",3),d.ic(30," Ziel Adresse: "),d.Mb(),d.Nb(31,"ion-label"),d.ic(32),d.Jb(33,"br"),d.ic(34),d.Mb(),d.Mb(),d.hc(35,N,13,4,"ng-container",0),d.hc(36,w,6,0,"ion-item",10),d.Nb(37,"ion-item",7),d.Nb(38,"ion-label",3),d.ic(39," Bezahlung: "),d.Mb(),d.Nb(40,"ion-label"),d.ic(41),d.Mb(),d.Mb(),d.hc(42,A,11,4,"ng-container",0),d.hc(43,G,3,2,"div",11),d.hc(44,U,6,5,"div",11),d.Mb(),d.Mb()}if(2&e){var r=d.Xb();d.yb(4),d.jc(r.gesuch.lieferobjektId),d.yb(2),d.jc(r.interessentenText),d.yb(3),d.jc(r.gesuch.abfahrtOrt),d.yb(3),d.jc(r.gesuch.ankunftOrt),d.yb(5),d.lc("",r.gesuch.ankunftDatum,", ",r.gesuch.ankunftZeit,""),d.yb(1),d.Ab("spin",r.dropdown),d.yb(1),d.Ab("card-dropdown-disabled",!r.dropdown),d.yb(1),d.ac("ngIf",r.gesuch),d.yb(5),d.kc(" ",r.gesuch.abfahrtStrasse,","),d.yb(2),d.lc(" ",r.gesuch.abfahrtPlz," ",r.gesuch.abfahrtOrt," "),d.yb(5),d.kc(" ",r.gesuch.ankunftStrasse,","),d.yb(2),d.lc(" ",r.gesuch.ankunftPlz," ",r.gesuch.ankunftOrt," "),d.yb(1),d.ac("ngIf",r.gesuch.erstellerId),d.yb(1),d.ac("ngIf",!r.gesuch.erstellerId),d.yb(5),d.kc(" ",r.gesuch.bezahlung," "),d.yb(1),d.ac("ngIf",r.user.id&&r.user.id===r.gesuch.erstellerId&&r.gesuch._ID),d.yb(1),d.ac("ngIf",r.user.id&&r.user.id===r.gesuch.erstellerId&&r.gesuch._ID),d.yb(1),d.ac("ngIf",r.user.id&&r.user.id!==r.gesuch.erstellerId&&r.gesuch._ID)}}function R(e,t){1&e&&(d.Nb(0,"div"),d.Nb(1,"ion-card",24),d.Nb(2,"ion-item",2),d.Jb(3,"ion-skeleton-text",25),d.Jb(4,"ion-skeleton-text",26),d.Mb(),d.Nb(5,"ion-item",2),d.Jb(6,"ion-skeleton-text",27),d.Jb(7,"ion-icon",5),d.Jb(8,"ion-skeleton-text",27),d.Mb(),d.Nb(9,"ion-item",7),d.Jb(10,"ion-skeleton-text",25),d.Jb(11,"ion-skeleton-text",26),d.Jb(12,"ion-skeleton-text",28),d.Mb(),d.Jb(13,"ion-icon",29),d.Mb(),d.Mb())}var B,X=((B=function(){function e(t,r,i,s,c,a){n(this,e),this.authService=t,this.gesuchService=r,this.fahrtService=i,this.fahrzeugService=s,this.alertController=c,this.modalController=a,this.inputGesuch=new v,this.gesuch=new v,this.inputUser=new l.a("","","",""),this.user=new l.a("","","",""),this.interessenten=[],this.fahrer=[],this.ersteller=new l.a("","","",""),this.dropdown=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;Object.assign(this.user,this.inputUser),Object.assign(this.gesuch,this.inputGesuch);var t=this.gesuch.getInteressenten();this.setInteressenten(t),this.setInteressentenText(t.length),this.setFahrer(this.gesuch.getFahrer()),this.gesuch.erstellerId&&this.authService.findUserById(this.gesuch.erstellerId).then((function(t){Object.assign(e.ersteller,t)}))}},{key:"setInteressenten",value:function(e){var t=this;this.interessenten=[],e.forEach((function(e){t.authService.findUserById(e.userId).then((function(n){t.interessenten.push({user:n,interessent:e})}))}))}},{key:"setFahrer",value:function(e){var t=this;this.interessenten=[],e.forEach((function(e){t.authService.findUserById(e.userId).then((function(n){t.fahrer.push({user:n,fahrer:e})}))}))}},{key:"setInteressentenText",value:function(e){this.interessentenText=0===e?"Keine Interessenten":1===e?"1 Interessent":e+" Interessenten"}},{key:"interessentAnnehmen",value:function(e){var t=this;this.gesuch.addFahrer(e),this.gesuch.deleteInteressent(e),this.gesuchService.updateGesuch(this.gesuch).then((function(e){Object.assign(t.gesuch,e.gesuch)})).catch((function(e){return t.presentAlert("Fehler","Fehler beim Update des Gesuchs. Error: "+e,"Ok")}))}},{key:"interessentEntfernen",value:function(e){var t=this;this.gesuch.deleteInteressent(e),this.gesuchService.updateGesuch(this.gesuch).then((function(e){Object.assign(t.gesuch,e.gesuch)})).catch((function(e){return t.presentAlert("Fehler","Fehler beim Update des Gesuchs. Error: "+e,"Ok")}))}},{key:"infoPopoverInteressent",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.authService.findUserById(e.userId);case 2:return t.next=4,this.fahrzeugService.findFahrzeugById(e.fahrzeugId);case 4:return t.next=6,this.modalController.create({component:y.a,cssClass:"my-custom-class"});case 6:return n=t.sent,t.next=9,n.present();case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"starteFahrt",value:function(){var e=this;this.authService.getUser()&&this.authService.getUser().id===this.gesuch.erstellerId?this.gesuch?this.gesuch.fahrtId?this.presentAlert("Fehler","Fahrt starten fehlgeschlagen. Die fahrt wurde bereits gestartet.","Ok"):this.fahrtService.startFahrt().then((function(t){e.gesuch.fahrtId=t.fahrt._ID,e.gesuchService.updateGesuch(e.gesuch).then((function(t){e.presentAlert("Fahrt gestartet","Die fahrt von "+t.gesuch.abfahrtOrt+" nach "+t.gesuch.ankunftOrt+" wurde gestartet.<br>Ihre angegebene Ankunftszeit ist: "+t.gesuch.ankunftZeit+".","Los gehts!")})).catch((function(t){e.presentAlert("Fehler","Fahrt starten fehlgeschlagen. Error: "+t,"Ok")}))})):this.presentAlert("Fehler","Fahrt starten fehlgeschlagen. Error: angebot: undefined","Ok"):this.presentAlert("Fehler","Fahrt starten fehlgeschlagen. Error: Nicht Authorisiert","Ok")}},{key:"fahrtBeenden",value:function(){var e=this;this.authService.getUser()&&this.authService.getUser().id===this.gesuch.erstellerId?this.gesuch?this.gesuch.fahrtId?this.fahrtService.endFahrt(this.gesuch.fahrtId).then((function(t){return Object(f.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fahrtBewerten(t._ID);case 1:case"end":return e.stop()}}),e,this)})))})):this.presentAlert("Fehler","Fahrt beenden fehlgeschlagen. Die fahrt wurde noch nicht gestartet.","Ok"):this.presentAlert("Fehler","Fahrt beenden fehlgeschlagen. Error: angebot: undefined","Ok"):this.presentAlert("Fehler","Fahrt beenden fehlgeschlagen. Error: Nicht Authorisiert","Ok")}},{key:"fahrtBewerten",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Fahrt bewerten!",subHeader:"Bewerte die Fahrt",message:'<ion-col>                <ion-icon name="star"></ion-icon>                <ion-icon name="star"></ion-icon>                <ion-icon name="star"></ion-icon>                <ion-icon name="star"></ion-icon>                <ion-icon name="star"></ion-icon>            </ion-col>',buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Okay",handler:function(){r.fahrtService.fahrtBewerten(e,5).catch((function(e){r.presentAlert("Bewertung fehlgeschlagen!","Beim speichern der Bewertung ist etwas schiefgelaufen. Error: <br>"+e,"Ok")}))}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getFahrzeuge",value:function(){var e=this;return new Promise((function(t,n){if(e.user.fahrzeuge&&0===e.user.fahrzeuge.length)n("Keine Fahrzeuge gespeichert");else{var r=[],i=!0;e.user.fahrzeuge.forEach((function(n){var s=e.fahrzeugService.findFahrzeugById(n).subscribe((function(c){s.unsubscribe(),r.push({name:n,type:"radio",label:c.marke+" "+c.modell,value:n,checked:i}),i=!1,r.length===e.user.fahrzeuge.length&&t(r)}))}))}}))}},{key:"gesuchAnfragen",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gesuch){e.next=10;break}return e.next=3,this.getFahrzeuge().catch((function(e){}));case 3:if(!(t=e.sent)){e.next=10;break}return e.next=7,this.alertController.create({cssClass:"my-custom-class",header:"Fahrt anbieten",message:"W\xe4hle dein Fahrzeug mit dem du die Fahrt anbieten m\xf6chtest:",inputs:t,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){}},{text:"Anfrage senden",handler:function(e){var t=new m;t.userId=r.authService.getUser().id,t.fahrzeugId=e,r.gesuch.addInteressent(t),r.gesuchService.updateGesuch(r.gesuch).catch((function(e){r.presentAlert("Fehler!","Fehler beim speichern des Angebots entstanden. Error: "+e,"Ok")}))}}]});case 7:return n=e.sent,e.next=10,n.present();case 10:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlert",value:function(e,t,n){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({cssClass:"my-custom-class",header:e,message:t,buttons:[n]});case 2:return i=r.sent,r.next=5,i.present();case 5:case"end":return r.stop()}}),r,this)})))}}]),e}()).\u0275fac=function(e){return new(e||B)(d.Ib(p.a),d.Ib(g.a),d.Ib(I.a),d.Ib(k.a),d.Ib(h.a),d.Ib(h.K))},B.\u0275cmp=d.Cb({type:B,selectors:[["app-gesuch-card"]],inputs:{inputGesuch:"inputGesuch",inputUser:"inputUser"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"border-card-green"],["lines","none"],["slot","start"],["color","primary","slot","end"],["name","arrow-forward",1,"center"],["slot","end"],["lines","full"],["size","large","name","chevron-down-outline",1,"center","transition","pointer",3,"click"],[1,"card-dropdown"],["lines","full",4,"ngIf"],["class","ion-text-center ion-margin",4,"ngIf"],[1,"ion-margin"],[3,"src"],["lines","inset",4,"ngFor","ngForOf"],["lines","inset"],["slot","end","name","information-circle-outline"],["slot","end","color","primary","name","checkmark-circle-outline",3,"click"],["slot","end","color","secondary","name","close-circle-outline",3,"click"],[1,"ion-text-center","ion-margin"],[3,"click",4,"ngIf"],[3,"click"],["disabled","true",4,"ngIf"],["disabled","true"],[1,"ion-padding","custom-skeleton","border-card-green"],["slot","start","animated","",2,"width","30%"],["slot","end","animated","",2,"width","10%"],["slot","","animated","",2,"width","25%"],["slot","end","animated","",2,"width","20%"],["size","large","name","chevron-down-outline",1,"center"]],template:function(e,t){1&e&&(d.hc(0,D,45,23,"div",0),d.hc(1,R,14,0,"div",0)),2&e&&(d.ac("ngIf",t.user.id&&t.gesuch._ID),d.yb(1),d.ac("ngIf",!(t.user.id&&t.gesuch._ID)))},directives:[o.i,h.i,h.v,h.f,h.s,h.w,h.c,o.h,h.g,h.D],styles:[".border-card-green[_ngcontent-%COMP%]{border:2px solid green}.border-card-orange[_ngcontent-%COMP%]{border:2px solid orange}.border-card-green[_ngcontent-%COMP%], .border-card-orange[_ngcontent-%COMP%]{z-index:1}.center[_ngcontent-%COMP%]{width:100%;text-align:center}.card-dropdown[_ngcontent-%COMP%]{opacity:1;display:block;overflow:scroll;position:relative;top:0;max-height:500px}.card-dropdown[_ngcontent-%COMP%], .card-dropdown-disabled[_ngcontent-%COMP%]{transition:opacity 1s ease-out,max-height 1s,top 1s}.card-dropdown-disabled[_ngcontent-%COMP%]{top:-200px;opacity:0;max-height:0}.spin[_ngcontent-%COMP%]{transform:rotate(180deg)}.spin[_ngcontent-%COMP%], .transition[_ngcontent-%COMP%]{transition:1s}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),B);function L(e,t){1&e&&d.Jb(0,"app-gesuch-card")}var T=function(){return[0,1,2]};function K(e,t){1&e&&(d.Lb(0),d.hc(1,L,1,0,"app-gesuch-card",2),d.Kb()),2&e&&(d.yb(1),d.ac("ngForOf",d.cc(1,T)))}function V(e,t){if(1&e&&d.Jb(0,"app-gesuch-card",4),2&e){var n=t.$implicit,r=d.Xb(2);d.ac("inputGesuch",n)("inputUser",r.user)}}function $(e,t){if(1&e&&(d.Lb(0),d.hc(1,V,1,2,"app-gesuch-card",3),d.Kb()),2&e){var n=d.Xb();d.yb(1),d.ac("ngForOf",n.filtertGesuche)}}var Z,H,q,W=[{path:"",component:(Z=function(){function t(e,r){n(this,t),this.gesuchService=e,this.authService=r,this.user=new l.a("","","",""),this.gesuche=[],this.filtertGesuche=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.authService.loadPageSubscription((function(t){return e.user=t})),this.gesuchService.observableGesuch().subscribe((function(t){return Object(f.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.gesuche=[],this.filtertGesuche=[],this.gesuche=t,this.filterGesuche();case 1:case"end":return e.stop()}}),e,this)})))}))}},{key:"ngOnDestroy",value:function(){this.subGesuch.unsubscribe()}},{key:"filterGesuche",value:function(){var t=this.gesuchService.startort.toLowerCase(),n=this.gesuchService.zielort.toLowerCase(),r=this.gesuchService.endDate;if(t&&n&&r){var i,s=e(this.gesuche);try{for(s.s();!(i=s.n()).done;){var c=i.value,a=c.abfahrtOrt.toLowerCase().includes(t),o=c.ankunftOrt.toLowerCase().includes(n),u=c.ankunftDatum===r;a&&u&&o&&this.filtertGesuche.push(c)}}catch(h){s.e(h)}finally{s.f()}}else this.filtertGesuche=this.gesuche}}]),t}(),Z.\u0275fac=function(e){return new(e||Z)(d.Ib(g.a),d.Ib(p.a))},Z.\u0275cmp=d.Cb({type:Z,selectors:[["app-gesuch"]],decls:8,vars:2,consts:[[1,"cargo-content"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"inputGesuch","inputUser",4,"ngFor","ngForOf"],[3,"inputGesuch","inputUser"]],template:function(e,t){1&e&&(d.Nb(0,"ion-header"),d.Nb(1,"ion-toolbar"),d.Nb(2,"ion-title"),d.ic(3,"gesuch"),d.Mb(),d.Mb(),d.Mb(),d.Nb(4,"ion-content"),d.Nb(5,"div",0),d.hc(6,K,2,2,"ng-container",1),d.hc(7,$,2,1,"ng-container",1),d.Mb(),d.Mb()),2&e&&(d.yb(6),d.ac("ngIf",t.filtertGesuche.length<1),d.yb(1),d.ac("ngIf",t.filtertGesuche.length>0))},directives:[h.r,h.G,h.F,h.n,o.i,o.h,X],styles:[""]}),Z)}],Q=((H=function e(){n(this,e)}).\u0275mod=d.Gb({type:H}),H.\u0275inj=d.Fb({factory:function(e){return new(e||H)},imports:[[b.j.forChild(W)],b.j]}),H),Y=a("iWjc"),ee=((q=function e(){n(this,e)}).\u0275mod=d.Gb({type:q}),q.\u0275inj=d.Fb({factory:function(e){return new(e||q)},imports:[[o.b,u.a,h.H,Q,Y.a]]}),q)}}])}();