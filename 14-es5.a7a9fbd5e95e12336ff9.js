!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function e(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{VOOW:function(t,o,r){"use strict";r.d(o,"a",(function(){return l}));var i=r("mrSG"),a=r("lJxs"),c=r("fXoL"),u=r("I/3d"),s=r("tyNb"),l=function(){var t=function(){function t(e,o){n(this,t),this.afs=e,this.router=o,this.startort="",this.zielort="",this.endDate="",this.angebotCollection=e.collection("angebote")}return e(t,[{key:"observableAngebote",value:function(){return this.angebotCollection.snapshotChanges().pipe(Object(a.a)((function(n){return n.map((function(n){var t=n.payload.doc.data();return t._ID=n.payload.doc.id,t}))})))}},{key:"findAngebotById",value:function(n){var t=this;return new Promise((function(e,o){t.angebotCollection.doc(n).get().toPromise().then((function(t){var o=t.data();o._ID=n,e(o)})).catch((function(n){return o(n)}))}))}},{key:"addAngebot",value:function(n){var e=this;return new Promise((function(o,r){e.angebotCollection.add(t.copyAndPrepare(n)).then((function(t){var e=n;e._ID=t.id,o({angebot:e,message:"Document written with ID: "+t.id})})).catch((function(n){r("Error adding document: "+n)}))}))}},{key:"deleteAngebot",value:function(n){var t=this;return new Promise((function(e,o){t.angebotCollection.doc(n).delete().then((function(){return Object(i.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(n);case 1:case"end":return t.stop()}}),t)})))})).catch((function(n){o("Error deleting document: "+n)}))}))}},{key:"updateAngebot",value:function(n){var e=this;return new Promise((function(o,r){var a=n._ID;e.angebotCollection.doc(n._ID).update(t.copyAndPrepare(n)).then((function(){return Object(i.a)(e,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n._ID=a,o({angebot:n,message:"Successfully edited Document with ID: "+n._ID});case 1:case"end":return t.stop()}}),t)})))})).catch((function(n){r("Error editing document: "+n)}))}))}},{key:"startSearch",value:function(n,t,e){this.startort=n,this.zielort=t,this.endDate=e,this.router.navigate(["/angebot"])}}],[{key:"copyAndPrepare",value:function(n){var t=Object.assign({},n);return delete t._ID,t.erstellerId=t.erstellerId||null,t.ankunftDatum=t.ankunftDatum||null,t.ankunftZeit=t.ankunftZeit||null,t.abfahrtStrasse=t.abfahrtStrasse||null,t.abfahrtOrt=t.abfahrtOrt||null,t.abfahrtPlz=t.abfahrtPlz||null,t.ankunftStrasse=t.ankunftStrasse||null,t.ankunftOrt=t.ankunftOrt||null,t.ankunftPlz=t.ankunftPlz||null,t.bezahlung=t.bezahlung||null,t.fahrtId=t.fahrtId||null,t.kunden=t.kunden||[],t.interessenten=t.interessenten||[],t.fahrzeugId=t.fahrzeugId||null,t}}]),t}();return t.\u0275fac=function(n){return new(n||t)(c.Rb(u.a),c.Rb(s.g))},t.\u0275prov=c.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},ahy8:function(t,o,r){"use strict";r.r(o),r.d(o,"SuchenPageModule",(function(){return D}));var i=r("ofXK"),a=r("3Pt+"),c=r("TEn/"),u=r("tyNb"),s=r("fXoL"),l=r("VOOW"),b=r("wHfo"),f=r("hrlM");function h(n,t){if(1&n){var e=s.Ob();s.Nb(0,"div"),s.Nb(1,"ion-item",6),s.Nb(2,"ion-label",11),s.kc(3,"Ankunftsdatum"),s.Mb(),s.Nb(4,"ion-datetime",12),s.Vb("ngModelChange",(function(n){return s.fc(e),s.Xb().endDate=n})),s.Mb(),s.Mb(),s.Mb()}if(2&n){var o=s.Xb();s.yb(4),s.ac("min",o.now)("max",o.now+2)("ngModel",o.endDate)}}function d(n,t){if(1&n){var e=s.Ob();s.Nb(0,"div"),s.Nb(1,"ion-item",6),s.Nb(2,"ion-label",13),s.kc(3,"Ankunftsdatum"),s.Mb(),s.Nb(4,"ion-datetime",12),s.Vb("ngModelChange",(function(n){return s.fc(e),s.Xb().endDate=n})),s.Mb(),s.Mb(),s.Mb()}if(2&n){var o=s.Xb();s.yb(4),s.ac("min",o.now)("max",o.now+2)("ngModel",o.endDate)}}function g(n,t){if(1&n){var e=s.Ob();s.Nb(0,"div"),s.Nb(1,"ion-button",14),s.Vb("click",(function(){return s.fc(e),s.Xb().gesuchSearch()})),s.kc(2," Gesuche finden "),s.Mb(),s.Mb()}}function v(n,t){if(1&n){var e=s.Ob();s.Nb(0,"div"),s.Nb(1,"ion-button",14),s.Vb("click",(function(){return s.fc(e),s.Xb().angebotSearch()})),s.kc(2," Angebote finden "),s.Mb(),s.Mb()}}var m,p,k,y=[{path:"",component:(m=function(){function t(e,o){n(this,t),this.angebotService=e,this.gesuchService=o,this.tabSwitch="gesuche",this.startort="",this.zielort="",this.endDate="",this.now=(new Date).getFullYear()}return e(t,[{key:"segmentChanged",value:function(n){console.log(this.tabSwitch)}},{key:"gesuchSearch",value:function(){console.log(this.endDate),this.transformDate(),console.log(this.endDate),this.gesuchService.startSearch(this.startort,this.zielort,this.endDate)}},{key:"angebotSearch",value:function(){console.log(this.endDate),this.transformDate(),console.log(this.endDate),this.angebotService.startSearch(this.startort,this.zielort,this.endDate)}},{key:"transformDate",value:function(){this.endDate=new Date(this.endDate).toLocaleString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit"})}}]),t}(),m.\u0275fac=function(n){return new(n||m)(s.Ib(l.a),s.Ib(b.a))},m.\u0275cmp=s.Cb({type:m,selectors:[["app-suchen"]],decls:33,vars:9,consts:[[1,"ion-text-center"],[1,"cargo-content","content-center"],["mode","ios",3,"ngModel","ionChange","ngModelChange"],["value","gesuche"],["value","angebote"],[1,"ion-justify-content-center"],["lines","none"],["position","stacked",1,"label-margin"],[3,"ngModel","ngModelChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],["position","floating",1,"label-margin"],["displayFormat","DD/MM/YYYY","placeholder","Ankunftsdatum w\xe4hlen",3,"min","max","ngModel","ngModelChange"],["position","floating"],["expand","block",1,"bg-green","ion-margin-top",3,"click"]],template:function(n,t){1&n&&(s.Nb(0,"ion-header"),s.Nb(1,"ion-toolbar"),s.Nb(2,"ion-title",0),s.kc(3,"Suchen"),s.Mb(),s.Mb(),s.Mb(),s.Nb(4,"ion-content"),s.Nb(5,"div",1),s.Nb(6,"ion-row"),s.Nb(7,"ion-col"),s.Nb(8,"ion-row"),s.Nb(9,"ion-segment",2),s.Vb("ionChange",(function(n){return t.segmentChanged(n)}))("ngModelChange",(function(n){return t.tabSwitch=n})),s.Nb(10,"ion-segment-button",3),s.Nb(11,"ion-label"),s.kc(12,"Gesuche"),s.Mb(),s.Mb(),s.Nb(13,"ion-segment-button",4),s.Nb(14,"ion-label"),s.kc(15,"Angebote"),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(16,"ion-row",5),s.Nb(17,"ion-list"),s.Nb(18,"ion-item",6),s.Nb(19,"ion-label",7),s.kc(20,"Startort"),s.Mb(),s.Nb(21,"ion-input",8),s.Vb("ngModelChange",(function(n){return t.startort=n})),s.Mb(),s.Mb(),s.Nb(22,"ion-item",6),s.Nb(23,"ion-label",7),s.kc(24,"Zielort"),s.Mb(),s.Nb(25,"ion-input",8),s.Vb("ngModelChange",(function(n){return t.zielort=n})),s.Mb(),s.Mb(),s.Nb(26,"div",9),s.ic(27,h,5,3,"div",10),s.ic(28,d,5,3,"div",10),s.Mb(),s.Mb(),s.Mb(),s.Nb(29,"div",9),s.ic(30,g,3,0,"div",10),s.ic(31,v,3,0,"div",10),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Jb(32,"app-navbar")),2&n&&(s.yb(9),s.ac("ngModel",t.tabSwitch),s.yb(12),s.ac("ngModel",t.startort),s.yb(4),s.ac("ngModel",t.zielort),s.yb(1),s.ac("ngSwitch",t.tabSwitch),s.yb(1),s.ac("ngSwitchCase","gesuche"),s.yb(1),s.ac("ngSwitchCase","angebote"),s.yb(1),s.ac("ngSwitch",t.tabSwitch),s.yb(1),s.ac("ngSwitchCase","gesuche"),s.yb(1),s.ac("ngSwitchCase","angebote"))},directives:[c.r,c.I,c.H,c.n,c.B,c.m,c.C,c.Q,a.e,a.f,c.D,c.w,c.x,c.v,c.u,c.R,i.j,i.k,f.a,c.o,c.g],styles:[".content-center[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:20px;background:#fff;padding:.5rem}ion-item[_ngcontent-%COMP%]{--inner-border-width:0}ion-input[_ngcontent-%COMP%]{--inner-padding:1rem}"]}),m)}],w=((p=function t(){n(this,t)}).\u0275mod=s.Gb({type:p}),p.\u0275inj=s.Fb({factory:function(n){return new(n||p)},imports:[[u.j.forChild(y)],u.j]}),p),M=r("iWjc"),D=((k=function t(){n(this,t)}).\u0275mod=s.Gb({type:k}),k.\u0275inj=s.Fb({factory:function(n){return new(n||k)},imports:[[i.b,a.a,c.J,w,M.a]]}),k)},hrlM:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var r=o("fXoL"),i=o("QAk6"),a=o("TEn/"),c=function(){var t=function t(e){n(this,t),this.changePage=e};return t.\u0275fac=function(n){return new(n||t)(r.Ib(i.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-navbar"]],decls:9,vars:0,consts:[[1,"ion-justify-content-around",2,"max-width","600px","margin","auto"],["color","none",3,"click"],["slot","icon-only","name","search-outline"],["slot","icon-only","name","list"],["slot","icon-only","name","person"]],template:function(n,t){1&n&&(r.Nb(0,"ion-footer"),r.Nb(1,"ion-toolbar"),r.Nb(2,"ion-row",0),r.Nb(3,"ion-button",1),r.Vb("click",(function(){return t.changePage.route("suchen")})),r.Jb(4,"ion-icon",2),r.Mb(),r.Nb(5,"ion-button",1),r.Vb("click",(function(){return t.changePage.route("auftraege")})),r.Jb(6,"ion-icon",3),r.Mb(),r.Nb(7,"ion-button",1),r.Vb("click",(function(){return t.changePage.route("profile")})),r.Jb(8,"ion-icon",4),r.Mb(),r.Mb(),r.Mb(),r.Mb())},directives:[a.p,a.I,a.B,a.g,a.s],styles:["ion-toolbar[_ngcontent-%COMP%]{--background:#fff}ion-button[_ngcontent-%COMP%]{background-color:transparent;--box-shadow:none;opacity:.6;--color:#005b52}.active[_ngcontent-%COMP%]{opacity:1}"]}),t}()},wHfo:function(t,o,r){"use strict";r.d(o,"a",(function(){return l}));var i=r("mrSG"),a=r("lJxs"),c=r("fXoL"),u=r("I/3d"),s=r("tyNb"),l=function(){var t=function(){function t(e,o){n(this,t),this.afs=e,this.router=o,this.startort="",this.zielort="",this.endDate="",this.gesuchCollection=e.collection("gesuche")}return e(t,[{key:"observableGesuch",value:function(){return this.gesuchCollection.snapshotChanges().pipe(Object(a.a)((function(n){return n.map((function(n){var t=n.payload.doc.data();return t._ID=n.payload.doc.id,t}))})))}},{key:"findGesuchById",value:function(n){var t=this;return new Promise((function(e,o){t.gesuchCollection.doc(n).get().toPromise().then((function(t){var o=t.data();o._ID=n,e(o)})).catch((function(n){return o(n)}))}))}},{key:"addGesuch",value:function(n){var e=this;return new Promise((function(o,r){e.gesuchCollection.add(t.copyAndPrepare(n)).then((function(t){var e=n;e._ID=t.id,o({gesuch:e,message:"Document written with ID: "+t.id})})).catch((function(n){r("Error adding document: "+n)}))}))}},{key:"deleteGesuch",value:function(n){var t=this;return new Promise((function(e,o){t.gesuchCollection.doc(n).delete().then((function(){return Object(i.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e("Successfully deleted Document with ID: "+n);case 1:case"end":return t.stop()}}),t)})))})).catch((function(n){o("Error deleting document: "+n)}))}))}},{key:"updateGesuch",value:function(n){var e=this;return new Promise((function(o,r){var a=n._ID;e.gesuchCollection.doc(n._ID).update(t.copyAndPrepare(n)).then((function(){return Object(i.a)(e,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n._ID=a,o({gesuch:n,message:"Successfully edited Document with ID: "+n._ID});case 1:case"end":return t.stop()}}),t)})))})).catch((function(n){r("Error editing document: "+n)}))}))}},{key:"startSearch",value:function(n,t,e){this.startort=n,this.zielort=t,this.endDate=e,this.router.navigate(["/gesuch"])}}],[{key:"copyAndPrepare",value:function(n){var t=Object.assign({},n);return delete t._ID,t.erstellerId=t.erstellerId||null,t.ankunftDatum=t.ankunftDatum||null,t.ankunftZeit=t.ankunftZeit||null,t.abfahrtStrasse=t.abfahrtStrasse||null,t.abfahrtOrt=t.abfahrtOrt||null,t.abfahrtPlz=t.abfahrtPlz||null,t.ankunftStrasse=t.ankunftStrasse||null,t.ankunftOrt=t.ankunftOrt||null,t.ankunftPlz=t.ankunftPlz||null,t.bezahlung=t.bezahlung||null,t.fahrtId=t.fahrtId||null,t.fahrer=t.fahrer||[],t.interessenten=t.interessenten||[],t.lieferobjektId=t.lieferobjektId||null,t}}]),t}();return t.\u0275fac=function(n){return new(n||t)(c.Rb(u.a),c.Rb(s.g))},t.\u0275prov=c.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();