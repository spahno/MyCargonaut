(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{qOEh:function(e,t,n){"use strict";n.r(t),n.d(t,"GesuchPageModule",(function(){return v}));var c=n("ofXK"),r=n("3Pt+"),a=n("TEn/"),s=n("tyNb"),o=n("mrSG"),u=n("fXoL"),i=n("lJxs"),l=n("I/3d");let h=(()=>{class e{constructor(e){this.afs=e,this.gesuchCollection=e.collection("gesuche")}static copyAndPrepare(e){const t=Object.assign({},e);return delete t._ID,t.erstellerId=t.erstellerId||null,t.ankunftDatum=t.ankunftDatum||null,t.ankunftZeit=t.ankunftZeit||null,t.abfahrtStrasse=t.abfahrtStrasse||null,t.abfahrtOrt=t.abfahrtOrt||null,t.abfahrtPlz=t.abfahrtPlz||null,t.ankunftStrasse=t.ankunftStrasse||null,t.ankunftOrt=t.ankunftOrt||null,t.ankunftPlz=t.ankunftPlz||null,t.bezahlung=t.bezahlung||null,t.fahrtId=t.fahrtId||null,t.fahrer=t.fahrer||[],t.interessenten=t.interessenten||[],t.lieferobjektId=t.lieferobjektId||null,t}observableGesuch(){return this.gesuchCollection.snapshotChanges().pipe(Object(i.a)(e=>e.map(e=>{const t=e.payload.doc.data();return t._ID=e.payload.doc.id,t})))}addGesuch(t){return new Promise((n,c)=>{this.gesuchCollection.add(e.copyAndPrepare(t)).then(e=>{const c=t;c._ID=e.id,n({gesuch:c,message:"Document written with ID: "+e.id})}).catch(e=>{c("Error adding document: "+e)})})}deleteGesuch(e){return new Promise((t,n)=>{this.gesuchCollection.doc(e).delete().then(()=>Object(o.a)(this,void 0,void 0,(function*(){t("Successfully deleted Document with ID: "+e)}))).catch(e=>{n("Error deleting document: "+e)})})}updateGesuch(t){return new Promise((n,c)=>{const r=t._ID;this.gesuchCollection.doc(t._ID).update(e.copyAndPrepare(t)).then(()=>Object(o.a)(this,void 0,void 0,(function*(){t._ID=r,n({gesuch:t,message:"Successfully edited Document with ID: "+t._ID})}))).catch(e=>{c("Error editing document: "+e)})})}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(l.a))},e.\u0275prov=u.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=n("h0n1");function d(e,t){1&e&&u.Jb(0,"app-anfrage-card",2),2&e&&u.ac("page","gesuch")}const g=function(){return[0,1,2]};function b(e,t){1&e&&(u.Lb(0),u.gc(1,d,1,1,"app-anfrage-card",1),u.Kb()),2&e&&(u.yb(1),u.ac("ngForOf",u.bc(1,g)))}function p(e,t){1&e&&u.Jb(0,"app-anfrage-card",4),2&e&&u.ac("inputGesuch",t.$implicit)("page","gesuch")}function m(e,t){if(1&e&&(u.Lb(0),u.gc(1,p,1,2,"app-anfrage-card",3),u.Kb()),2&e){const e=u.Xb();u.yb(1),u.ac("ngForOf",e.filtertGesuche)}}const I=[{path:"",component:(()=>{class e{constructor(e){this.gesuchService=e,this.gesuche=[],this.filtertGesuche=[],this.gesuchService.observableGesuch().subscribe(e=>Object(o.a)(this,void 0,void 0,(function*(){this.gesuche=e,this.gesuche.forEach(e=>{this.filtertGesuche.push(e)})})))}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(u.Ib(h))},e.\u0275cmp=u.Cb({type:e,selectors:[["app-gesuch"]],decls:7,vars:2,consts:[[4,"ngIf"],[3,"page",4,"ngFor","ngForOf"],[3,"page"],[3,"inputGesuch","page",4,"ngFor","ngForOf"],[3,"inputGesuch","page"]],template:function(e,t){1&e&&(u.Nb(0,"ion-header"),u.Nb(1,"ion-toolbar"),u.Nb(2,"ion-title"),u.hc(3,"gesuch"),u.Mb(),u.Mb(),u.Mb(),u.Nb(4,"ion-content"),u.gc(5,b,2,2,"ng-container",0),u.gc(6,m,2,1,"ng-container",0),u.Mb()),2&e&&(u.yb(5),u.ac("ngIf",t.filtertGesuche.length<1),u.yb(1),u.ac("ngIf",t.filtertGesuche.length>0))},directives:[a.o,a.z,a.y,a.m,c.i,c.h,f.a],styles:[""]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=u.Gb({type:e}),e.\u0275inj=u.Fb({factory:function(t){return new(t||e)},imports:[[s.k.forChild(I)],s.k]}),e})();var k=n("iWjc");let v=(()=>{class e{}return e.\u0275mod=u.Gb({type:e}),e.\u0275inj=u.Fb({factory:function(t){return new(t||e)},imports:[[c.b,r.a,a.A,y,k.a]]}),e})()}}]);