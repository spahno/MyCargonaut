(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{G9vc:function(e,t,n){"use strict";n.r(t),n.d(t,"AngebotPageModule",(function(){return Z}));var i=n("ofXK"),r=n("3Pt+"),o=n("TEn/"),s=n("tyNb"),a=n("mrSG"),b=n("Oj1a"),c=n("fXoL"),h=n("VOOW"),l=n("ZETX"),d=n("QIET");class g extends d.a{constructor(){super(...arguments),this.kunden=[],this.interessenten=[]}getInteressenten(){const e=[];return this.interessenten.forEach(t=>{e.push(JSON.parse(t))}),e}addInteressent(e){return this.interessenten.push(JSON.stringify(e)),this}deleteInteressent(e){return this.interessenten=this.interessenten.filter(t=>JSON.parse(t).userId!==e.userId&&JSON.parse(t).objectId!==e.objectId),this}isInteressent(e){let t=!1;const n=this.getInteressenten();for(let i=0;i<n.length;i++)if(t=n[i].userId===e,i+1===n.length)return t}getKunden(){const e=[];return this.kunden.forEach(t=>{e.push(JSON.parse(t))}),e}addKunde(e){return this.kunden.push(JSON.stringify(e)),this}deleteKunde(e){return this.kunden=this.kunden.filter(t=>JSON.parse(t).userId!==e.userId&&JSON.parse(t).objectId!==e.objectId),this}isKunde(e){let t=!1;const n=this.getKunden();for(let i=0;i<n.length;i++)if(t=n[i].userId===e,n[i].userId===e&&i+1===n.length)return t}}class u{}var f=n("88mt"),p=n("lJxs"),m=n("I/3d");let I=(()=>{class e{constructor(e){this.afs=e,this.objektCollection=this.afs.collection("lieferObjekt")}static copyAndPrepare(e){const t=Object.assign({},e);return delete t._ID,t}findLieferobjektById(e){return this.objektCollection.doc(e).snapshotChanges().pipe(Object(p.a)(t=>{const n=t.payload.data();return n&&(n._ID=e),Object.assign({},n)}))}addLieferobjekt(t){return new Promise((n,i)=>{this.objektCollection.add(e.copyAndPrepare(t)).then(e=>{const i=t;i._ID=e.id,n({lieferobjekt:i,message:"Document written with ID: "+e.id})}).catch(e=>{i("Error adding document: "+e)})})}deleteLieferobjekt(e){return new Promise((t,n)=>{this.objektCollection.doc(e).delete().then(()=>Object(a.a)(this,void 0,void 0,(function*(){t("Successfully deleted Document with ID: "+e)}))).catch(e=>{n("Error deleting document: "+e)})})}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(m.a))},e.\u0275prov=c.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function M(e,t){1&e&&(c.Nb(0,"ion-item",7),c.Nb(1,"ion-label",3),c.ic(2," Fahrzeug: "),c.Mb(),c.Nb(3,"ion-label"),c.ic(4," Mercedes Vito "),c.Mb(),c.Mb())}function y(e,t){if(1&e&&(c.Lb(0),c.Nb(1,"ion-item",7),c.Nb(2,"ion-label",3),c.ic(3," Ersteller: "),c.Mb(),c.Nb(4,"ion-avatar",12),c.Jb(5,"img",13),c.Mb(),c.Nb(6,"ion-label"),c.ic(7),c.Mb(),c.Mb(),c.Nb(8,"ion-item",7),c.Nb(9,"ion-label",3),c.ic(10," Telefon: "),c.Mb(),c.Nb(11,"ion-label"),c.ic(12),c.Mb(),c.Mb(),c.Kb()),2&e){const e=c.Xb(2);c.yb(5),c.bc("src",e.ersteller.profileImage||"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y",c.fc),c.yb(2),c.lc(" ",e.ersteller.vorname||"Ladefehler"," ",e.ersteller.nachname||"Ladefehler"," "),c.yb(5),c.kc(" ",e.ersteller.telefon||"Ladefehler"," ")}}function N(e,t){1&e&&(c.Nb(0,"ion-item",7),c.Nb(1,"ion-label",3),c.ic(2," Ersteller: "),c.Mb(),c.Nb(3,"ion-label"),c.Nb(4,"em"),c.ic(5,"Fehler bei dem Darstellen des Erstellers!"),c.Mb(),c.Mb(),c.Mb())}function k(e,t){1&e&&(c.Nb(0,"ion-label"),c.Nb(1,"em"),c.ic(2,"Es gibt noch keine Interessenten."),c.Mb(),c.Mb())}function v(e,t){if(1&e){const e=c.Ob();c.Nb(0,"ion-item",15),c.Nb(1,"ion-avatar",3),c.Jb(2,"img",13),c.Mb(),c.Nb(3,"ion-label"),c.ic(4),c.Mb(),c.Jb(5,"ion-icon",16),c.Nb(6,"ion-icon",17),c.Vb("click",(function(){c.ec(e);const n=t.$implicit;return c.Xb(3).interessentAnnehmen(n.interessent)})),c.Mb(),c.Nb(7,"ion-icon",18),c.Vb("click",(function(){c.ec(e);const n=t.$implicit;return c.Xb(3).interessentEntfernen(n.interessent)})),c.Mb(),c.Mb()}if(2&e){const e=t.$implicit;c.yb(2),c.bc("src",e.user.profileImage||"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y",c.fc),c.yb(2),c.lc(" ",e.user.vorname," ",e.user.nachname," ")}}function O(e,t){1&e&&(c.Nb(0,"ion-label"),c.Nb(1,"em"),c.ic(2,"Es wurden noch keine Interessenten angenommen."),c.Mb(),c.Mb())}function w(e,t){if(1&e&&(c.Nb(0,"ion-item",15),c.Nb(1,"ion-avatar",3),c.Jb(2,"img",13),c.Mb(),c.Nb(3,"ion-label"),c.ic(4),c.Mb(),c.Jb(5,"ion-icon",16),c.Mb()),2&e){const e=t.$implicit;c.yb(2),c.bc("src",e.user.profileImage||"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y",c.fc),c.yb(2),c.lc(" ",e.user.vorname," ",e.user.nachname," ")}}function A(e,t){if(1&e&&(c.Lb(0),c.Nb(1,"ion-item",2),c.Nb(2,"ion-label",3),c.ic(3,"Interessenten:"),c.Mb(),c.hc(4,k,3,0,"ion-label",0),c.Mb(),c.hc(5,v,8,3,"ion-item",14),c.Nb(6,"ion-item",2),c.Nb(7,"ion-label",3),c.ic(8,"Kunden:"),c.Mb(),c.hc(9,O,3,0,"ion-label",0),c.Mb(),c.hc(10,w,6,3,"ion-item",14),c.Kb()),2&e){const e=c.Xb(2);c.yb(4),c.ac("ngIf",0===e.interessenten.length),c.yb(1),c.ac("ngForOf",e.interessenten),c.yb(4),c.ac("ngIf",0===e.kunden.length),c.yb(1),c.ac("ngForOf",e.kunden)}}function F(e,t){if(1&e){const e=c.Ob();c.Nb(0,"ion-button",21),c.Vb("click",(function(){return c.ec(e),c.Xb(3).starteFahrt()})),c.ic(1,"Fahrt starten"),c.Mb()}}function j(e,t){if(1&e){const e=c.Ob();c.Nb(0,"ion-button",21),c.Vb("click",(function(){return c.ec(e),c.Xb(3).fahrtBeenden()})),c.ic(1,"Fahrt beenden"),c.Mb()}}function S(e,t){if(1&e&&(c.Nb(0,"div",19),c.hc(1,F,2,0,"ion-button",20),c.hc(2,j,2,0,"ion-button",20),c.Mb()),2&e){const e=c.Xb(2);c.yb(1),c.ac("ngIf",!e.angebot.fahrtId),c.yb(1),c.ac("ngIf",e.angebot.fahrtId)}}function C(e,t){1&e&&(c.Nb(0,"ion-button",23),c.Nb(1,"em"),c.ic(2,"Anfrage ausstehend"),c.Mb(),c.Mb())}function J(e,t){1&e&&(c.Nb(0,"ion-button",23),c.Nb(1,"em"),c.ic(2,"Anfrage abgelehnt"),c.Mb(),c.Mb())}function x(e,t){1&e&&(c.Lb(0),c.Nb(1,"em"),c.ic(2,"Sobald der Fahrer die Fahrt beginnt ist das Tracking m\xf6glich."),c.Mb(),c.Jb(3,"br"),c.Nb(4,"ion-button",24),c.Nb(5,"em"),c.ic(6,"Fahrt tracken"),c.Mb(),c.Mb(),c.Kb())}function E(e,t){1&e&&(c.Nb(0,"ion-button"),c.ic(1,"Fahrt tracken"),c.Mb())}function D(e,t){if(1&e){const e=c.Ob();c.Nb(0,"ion-button",21),c.Vb("click",(function(){return c.ec(e),c.Xb(3).angebotAnfragen()})),c.ic(1,"Anfragen"),c.Mb()}}function P(e,t){if(1&e&&(c.Nb(0,"div",19),c.hc(1,C,3,0,"ion-button",22),c.hc(2,J,3,0,"ion-button",22),c.hc(3,x,7,0,"ng-container",0),c.hc(4,E,2,0,"ion-button",0),c.hc(5,D,2,0,"ion-button",20),c.Mb()),2&e){const e=c.Xb(2);c.yb(1),c.ac("ngIf",!e.angebot.fahrtId&&e.angebot.isInteressent(e.user.id)&&!e.angebot.isKunde(e.user.id)),c.yb(1),c.ac("ngIf",e.angebot.fahrtId&&e.angebot.isInteressent(e.user.id)&&!e.angebot.isKunde(e.user.id)),c.yb(1),c.ac("ngIf",!e.angebot.fahrtId&&e.angebot.isKunde(e.user.id)),c.yb(1),c.ac("ngIf",e.angebot.fahrtId&&e.angebot.isKunde(e.user.id)),c.yb(1),c.ac("ngIf",!e.angebot.isInteressent(e.user.id)&&!e.angebot.isKunde(e.user.id))}}function _(e,t){if(1&e){const e=c.Ob();c.Nb(0,"div"),c.Nb(1,"ion-card",1),c.Nb(2,"ion-item",2),c.Nb(3,"h3",3),c.ic(4),c.Mb(),c.Nb(5,"ion-badge",4),c.ic(6),c.Mb(),c.Mb(),c.Nb(7,"ion-item",2),c.Nb(8,"h4",3),c.ic(9),c.Mb(),c.Jb(10,"ion-icon",5),c.Nb(11,"h4",6),c.ic(12),c.Mb(),c.Mb(),c.Nb(13,"ion-item",7),c.Nb(14,"p",3),c.ic(15,"Ankunft:"),c.Mb(),c.Nb(16,"p",6),c.ic(17),c.Mb(),c.Mb(),c.Nb(18,"ion-icon",8),c.Vb("click",(function(){c.ec(e);const t=c.Xb();return t.dropdown=!t.dropdown})),c.Mb(),c.Mb(),c.Nb(19,"ion-card",9),c.hc(20,M,5,0,"ion-item",10),c.Nb(21,"ion-item",7),c.Nb(22,"ion-label",3),c.ic(23," Start Adresse: "),c.Mb(),c.Nb(24,"ion-label"),c.ic(25),c.Jb(26,"br"),c.ic(27),c.Mb(),c.Mb(),c.Nb(28,"ion-item",7),c.Nb(29,"ion-label",3),c.ic(30," Ziel Adresse: "),c.Mb(),c.Nb(31,"ion-label"),c.ic(32),c.Jb(33,"br"),c.ic(34),c.Mb(),c.Mb(),c.hc(35,y,13,4,"ng-container",0),c.hc(36,N,6,0,"ion-item",10),c.Nb(37,"ion-item",7),c.Nb(38,"ion-label",3),c.ic(39," Bezahlung: "),c.Mb(),c.Nb(40,"ion-label"),c.ic(41),c.Mb(),c.Mb(),c.hc(42,A,11,4,"ng-container",0),c.hc(43,S,3,2,"div",11),c.hc(44,P,6,5,"div",11),c.Mb(),c.Mb()}if(2&e){const e=c.Xb();c.yb(4),c.jc(e.angebot.fahrzeugId),c.yb(2),c.jc(e.interessentenText),c.yb(3),c.jc(e.angebot.abfahrtOrt),c.yb(3),c.jc(e.angebot.ankunftOrt),c.yb(5),c.lc("",e.angebot.ankunftDatum,", ",e.angebot.ankunftZeit,""),c.yb(1),c.Ab("spin",e.dropdown),c.yb(1),c.Ab("card-dropdown-disabled",!e.dropdown),c.yb(1),c.ac("ngIf",e.angebot),c.yb(5),c.kc(" ",e.angebot.abfahrtStrasse,","),c.yb(2),c.lc(" ",e.angebot.abfahrtPlz," ",e.angebot.abfahrtOrt," "),c.yb(5),c.kc(" ",e.angebot.ankunftStrasse,","),c.yb(2),c.lc(" ",e.angebot.ankunftPlz," ",e.angebot.ankunftOrt," "),c.yb(1),c.ac("ngIf",e.angebot.erstellerId),c.yb(1),c.ac("ngIf",!e.angebot.erstellerId),c.yb(5),c.kc(" ",e.angebot.bezahlung," "),c.yb(1),c.ac("ngIf",e.user.id&&e.user.id===e.angebot.erstellerId&&e.angebot._ID),c.yb(1),c.ac("ngIf",e.user.id&&e.user.id===e.angebot.erstellerId&&e.angebot._ID),c.yb(1),c.ac("ngIf",e.user.id&&e.user.id!==e.angebot.erstellerId&&e.angebot._ID)}}function K(e,t){1&e&&(c.Nb(0,"div"),c.Nb(1,"ion-card",25),c.Nb(2,"ion-item",2),c.Jb(3,"ion-skeleton-text",26),c.Jb(4,"ion-skeleton-text",27),c.Mb(),c.Nb(5,"ion-item",2),c.Jb(6,"ion-skeleton-text",28),c.Jb(7,"ion-icon",5),c.Jb(8,"ion-skeleton-text",28),c.Mb(),c.Nb(9,"ion-item",7),c.Jb(10,"ion-skeleton-text",26),c.Jb(11,"ion-skeleton-text",27),c.Jb(12,"ion-skeleton-text",29),c.Mb(),c.Jb(13,"ion-icon",30),c.Mb(),c.Mb())}let L=(()=>{class e{constructor(e,t,n,i,r){this.authService=e,this.angebotService=t,this.fahrtService=n,this.lieferobjektService=i,this.alertController=r,this.inputAngebot=new g,this.angebot=new g,this.inputUser=new b.a("","","",""),this.user=new b.a("","","",""),this.interessenten=[],this.kunden=[],this.ersteller=new b.a("","","",""),this.dropdown=!1,this.authService.loadPageSubscription(e=>{Object.assign(this.user,e)})}ngOnInit(){Object.assign(this.user,this.inputUser),Object.assign(this.angebot,this.inputAngebot);const e=this.angebot.getInteressenten();this.setInteressenten(e),this.setInteressentenText(e.length),this.setKunden(this.angebot.getKunden()),this.angebot.erstellerId&&this.authService.findUserById(this.angebot.erstellerId).then(e=>{Object.assign(this.ersteller,e)})}setInteressenten(e){this.interessenten=[],e.forEach(e=>{this.authService.findUserById(e.userId).then(t=>{this.interessenten.push({user:t,interessent:e})})})}setKunden(e){this.kunden=[],e.forEach(e=>{this.authService.findUserById(e.userId).then(t=>{this.kunden.push({user:t,kunde:e})})})}setInteressentenText(e){this.interessentenText=0===e?"Keine Interessenten":1===e?"1 Interessent":e+" Interessenten"}interessentAnnehmen(e){this.angebot.addKunde(e),this.angebot.deleteInteressent(e),this.angebotService.updateAngebot(this.angebot).then(e=>{Object.assign(this.angebot,e.angebot)}).catch(e=>this.presentAlert("Fehler","Fehler beim Update des Angebots. Error: "+e,"Ok"))}interessentEntfernen(e){this.angebot.deleteInteressent(e),this.angebotService.updateAngebot(this.angebot).then(e=>{Object.assign(this.angebot,e.angebot)}).catch(e=>this.presentAlert("Fehler","Fehler beim Update des Angebots. Error: "+e,"Ok"))}starteFahrt(){this.authService.getUser()&&this.authService.getUser().id===this.angebot.erstellerId?this.angebot?this.angebot.fahrtId?this.presentAlert("Fehler","Fahrt starten fehlgeschlagen. Die fahrt wurde bereits gestartet.","Ok"):this.fahrtService.startFahrt().then(e=>{this.angebot.fahrtId=e.fahrt._ID,this.angebotService.updateAngebot(this.angebot).then(e=>{this.presentAlert("Fahrt gestartet","Die fahrt von "+e.angebot.abfahrtOrt+" nach "+e.angebot.ankunftOrt+" wurde gestartet.<br>Ihre angegebene Ankunftszeit ist: "+e.angebot.ankunftZeit+".","Los gehts!")}).catch(e=>{this.presentAlert("Fehler","Fahrt starten fehlgeschlagen. Error: "+e,"Ok")})}):this.presentAlert("Fehler","Fahrt starten fehlgeschlagen. Error: angebot: undefined","Ok"):this.presentAlert("Fehler","Fahrt starten fehlgeschlagen. Error: Nicht Authorisiert","Ok")}fahrtBeenden(){this.authService.getUser()&&this.authService.getUser().id===this.angebot.erstellerId?this.angebot?this.angebot.fahrtId?this.fahrtService.endFahrt(this.angebot.fahrtId).then(e=>Object(a.a)(this,void 0,void 0,(function*(){this.fahrtBewerten(e._ID)}))):this.presentAlert("Fehler","Fahrt beenden fehlgeschlagen. Die fahrt wurde noch nicht gestartet.","Ok"):this.presentAlert("Fehler","Fahrt beenden fehlgeschlagen. Error: angebot: undefined","Ok"):this.presentAlert("Fehler","Fahrt beenden fehlgeschlagen. Error: Nicht Authorisiert","Ok")}fahrtBewerten(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Fahrt bewerten!",subHeader:"Bewerte die Fahrt",message:'<ion-col>                <ion-icon name="star"></ion-icon>                <ion-icon name="star"></ion-icon>                <ion-icon name="star"></ion-icon>                <ion-icon name="star"></ion-icon>                <ion-icon name="star"></ion-icon>            </ion-col>',buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Okay",handler:()=>{this.fahrtService.fahrtBewerten(e,5).catch(e=>{this.presentAlert("Bewertung fehlgeschlagen!","Beim speichern der Bewertung ist etwas schiefgelaufen. Error: <br>"+e,"Ok")})}}]});yield t.present()}))}angebotAnfragen(){return Object(a.a)(this,void 0,void 0,(function*(){if(this.angebot){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Angebot anfragen",subHeader:"Welches Objekt soll f\xfcr Sie transportiert werden? ",inputs:[{name:"name",type:"text",placeholder:"name des Lieferobjekts"},{name:"beschreibung",type:"text",placeholder:"beschreibung"},{name:"preis",type:"text",placeholder:"Preisvorschlag"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Anfrage senden",handler:e=>Object(a.a)(this,void 0,void 0,(function*(){const t=new u;t.userId=this.authService.getUser().id;const n=yield this.lieferobjektService.addLieferobjekt(e);t.objectId=n.lieferobjekt._ID,this.angebot.addInteressent(t),this.angebotService.updateAngebot(this.angebot).catch(e=>{this.presentAlert("Fehler!","Fehler beim speichern des Angebots entstanden. Error: "+e,"Ok")})}))}]});yield e.present()}}))}presentAlert(e,t,n){return Object(a.a)(this,void 0,void 0,(function*(){const i=yield this.alertController.create({cssClass:"my-custom-class",header:e,message:t,buttons:[n]});yield i.present()}))}}return e.\u0275fac=function(t){return new(t||e)(c.Ib(l.a),c.Ib(h.a),c.Ib(f.a),c.Ib(I),c.Ib(o.a))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-angebot-card"]],inputs:{inputAngebot:"inputAngebot",inputUser:"inputUser"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"border-card-orange"],["lines","none"],["slot","start"],["color","secondary","slot","end"],["name","arrow-forward",1,"center"],["slot","end"],["lines","full"],["size","large","name","chevron-down-outline",1,"center","transition","pointer",3,"click"],[1,"card-dropdown"],["lines","full",4,"ngIf"],["class","ion-text-center ion-margin",4,"ngIf"],[1,"ion-margin"],[3,"src"],["lines","inset",4,"ngFor","ngForOf"],["lines","inset"],["slot","end","name","information-circle-outline"],["slot","end","color","primary","name","checkmark-circle-outline",3,"click"],["slot","end","color","secondary","name","close-circle-outline",3,"click"],[1,"ion-text-center","ion-margin"],[3,"click",4,"ngIf"],[3,"click"],["disabled","true",4,"ngIf"],["disabled","true"],["disabled","true",1,"ion-margin-top"],[1,"ion-padding","custom-skeleton","border-card-orange"],["slot","start","animated","",2,"width","30%"],["slot","end","animated","",2,"width","10%"],["slot","","animated","",2,"width","25%"],["slot","end","animated","",2,"width","20%"],["size","large","name","chevron-down-outline",1,"center"]],template:function(e,t){1&e&&(c.hc(0,_,45,23,"div",0),c.hc(1,K,14,0,"div",0)),2&e&&(c.ac("ngIf",t.user.id&&t.angebot._ID),c.yb(1),c.ac("ngIf",!(t.user.id&&t.angebot._ID)))},directives:[i.i,o.i,o.v,o.f,o.s,o.w,o.c,i.h,o.g,o.D],styles:[".border-card-green[_ngcontent-%COMP%]{border:2px solid green}.border-card-orange[_ngcontent-%COMP%]{border:2px solid orange}.border-card-green[_ngcontent-%COMP%], .border-card-orange[_ngcontent-%COMP%]{z-index:1}.center[_ngcontent-%COMP%]{width:100%;text-align:center}.card-dropdown[_ngcontent-%COMP%]{opacity:1;display:block;overflow:scroll;position:relative;top:0;max-height:500px}.card-dropdown[_ngcontent-%COMP%], .card-dropdown-disabled[_ngcontent-%COMP%]{transition:opacity 1s ease-out,max-height 1s,top 1s}.card-dropdown-disabled[_ngcontent-%COMP%]{top:-200px;opacity:0;max-height:0}.spin[_ngcontent-%COMP%]{transform:rotate(180deg)}.spin[_ngcontent-%COMP%], .transition[_ngcontent-%COMP%]{transition:1s}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();function U(e,t){1&e&&c.Jb(0,"app-angebot-card",5)}const X=function(){return[0,1,2]};function B(e,t){1&e&&(c.Lb(0),c.hc(1,U,1,0,"app-angebot-card",4),c.Kb()),2&e&&(c.yb(1),c.ac("ngForOf",c.cc(1,X)))}function z(e,t){if(1&e&&c.Jb(0,"app-angebot-card",7),2&e){const e=t.$implicit,n=c.Xb(2);c.ac("inputAngebot",e)("inputUser",n.user)}}function T(e,t){if(1&e&&(c.Lb(0),c.hc(1,z,1,2,"app-angebot-card",6),c.Kb()),2&e){const e=c.Xb();c.yb(1),c.ac("ngForOf",e.filtertAngebote)}}const V=[{path:"",component:(()=>{class e{constructor(e,t){this.angebotService=e,this.authService=t,this.user=new b.a("","","",""),this.angebote=[],this.filtertAngebote=[]}ngOnInit(){this.authService.loadPageSubscription(e=>this.user=e),this.angebotService.observableAngebote().subscribe(e=>Object(a.a)(this,void 0,void 0,(function*(){this.angebote=[],this.filtertAngebote=[],this.angebote=e,this.filterAngebote()})))}ngOnDestroy(){this.subAngebot.unsubscribe()}filterAngebote(){this.filtertAngebote=[];const e=this.angebotService.startort.toLowerCase(),t=this.angebotService.zielort.toLowerCase(),n=this.angebotService.endDate;if(e&&t&&n)for(const i of this.angebote){const r=i.abfahrtOrt.toLowerCase().includes(e),o=i.ankunftOrt.toLowerCase().includes(t),s=i.ankunftDatum===n;r&&s&&o&&this.filtertAngebote.push(i)}else this.filtertAngebote=this.angebote}}return e.\u0275fac=function(t){return new(t||e)(c.Ib(h.a),c.Ib(l.a))},e.\u0275cmp=c.Cb({type:e,selectors:[["app-angebot"]],decls:10,vars:2,consts:[["mode","ios"],["slot","start"],[1,"cargo-content"],[4,"ngIf"],[3,"inputAngebot",4,"ngFor","ngForOf"],[3,"inputAngebot"],[3,"inputAngebot","inputUser",4,"ngFor","ngForOf"],[3,"inputAngebot","inputUser"]],template:function(e,t){1&e&&(c.Nb(0,"ion-header",0),c.Nb(1,"ion-toolbar"),c.Nb(2,"ion-buttons",1),c.Jb(3,"ion-back-button"),c.Mb(),c.Nb(4,"ion-title"),c.ic(5,"Angebote"),c.Mb(),c.Mb(),c.Mb(),c.Nb(6,"ion-content"),c.Nb(7,"div",2),c.hc(8,B,2,2,"ng-container",3),c.hc(9,T,2,1,"ng-container",3),c.Mb(),c.Mb()),2&e&&(c.yb(8),c.ac("ngIf",t.filtertAngebote.length<1),c.yb(1),c.ac("ngIf",t.filtertAngebote.length>0))},directives:[o.r,o.G,o.h,o.d,o.e,o.F,o.n,i.i,i.h,L],styles:[""]}),e})()}];let G=(()=>{class e{}return e.\u0275mod=c.Gb({type:e}),e.\u0275inj=c.Fb({factory:function(t){return new(t||e)},imports:[[s.j.forChild(V)],s.j]}),e})();var $=n("iWjc");let Z=(()=>{class e{}return e.\u0275mod=c.Gb({type:e}),e.\u0275inj=c.Fb({factory:function(t){return new(t||e)},imports:[[i.b,r.a,o.H,G,$.a]]}),e})()}}]);