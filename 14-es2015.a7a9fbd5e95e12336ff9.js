(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{VOOW:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var o=e("mrSG"),a=e("lJxs"),i=e("fXoL"),r=e("I/3d"),c=e("tyNb");let s=(()=>{class t{constructor(t,n){this.afs=t,this.router=n,this.startort="",this.zielort="",this.endDate="",this.angebotCollection=t.collection("angebote")}static copyAndPrepare(t){const n=Object.assign({},t);return delete n._ID,n.erstellerId=n.erstellerId||null,n.ankunftDatum=n.ankunftDatum||null,n.ankunftZeit=n.ankunftZeit||null,n.abfahrtStrasse=n.abfahrtStrasse||null,n.abfahrtOrt=n.abfahrtOrt||null,n.abfahrtPlz=n.abfahrtPlz||null,n.ankunftStrasse=n.ankunftStrasse||null,n.ankunftOrt=n.ankunftOrt||null,n.ankunftPlz=n.ankunftPlz||null,n.bezahlung=n.bezahlung||null,n.fahrtId=n.fahrtId||null,n.kunden=n.kunden||[],n.interessenten=n.interessenten||[],n.fahrzeugId=n.fahrzeugId||null,n}observableAngebote(){return this.angebotCollection.snapshotChanges().pipe(Object(a.a)(t=>t.map(t=>{const n=t.payload.doc.data();return n._ID=t.payload.doc.id,n})))}findAngebotById(t){return new Promise((n,e)=>{this.angebotCollection.doc(t).get().toPromise().then(e=>{const o=e.data();o._ID=t,n(o)}).catch(t=>e(t))})}addAngebot(n){return new Promise((e,o)=>{this.angebotCollection.add(t.copyAndPrepare(n)).then(t=>{const o=n;o._ID=t.id,e({angebot:o,message:"Document written with ID: "+t.id})}).catch(t=>{o("Error adding document: "+t)})})}deleteAngebot(t){return new Promise((n,e)=>{this.angebotCollection.doc(t).delete().then(()=>Object(o.a)(this,void 0,void 0,(function*(){n(t)}))).catch(t=>{e("Error deleting document: "+t)})})}updateAngebot(n){return new Promise((e,a)=>{const i=n._ID;this.angebotCollection.doc(n._ID).update(t.copyAndPrepare(n)).then(()=>Object(o.a)(this,void 0,void 0,(function*(){n._ID=i,e({angebot:n,message:"Successfully edited Document with ID: "+n._ID})}))).catch(t=>{a("Error editing document: "+t)})})}startSearch(t,n,e){this.startort=t,this.zielort=n,this.endDate=e,this.router.navigate(["/angebot"])}}return t.\u0275fac=function(n){return new(n||t)(i.Rb(r.a),i.Rb(c.g))},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ahy8:function(t,n,e){"use strict";e.r(n),e.d(n,"SuchenPageModule",(function(){return M}));var o=e("ofXK"),a=e("3Pt+"),i=e("TEn/"),r=e("tyNb"),c=e("fXoL"),s=e("VOOW"),l=e("wHfo"),u=e("hrlM");function b(t,n){if(1&t){const t=c.Ob();c.Nb(0,"div"),c.Nb(1,"ion-item",6),c.Nb(2,"ion-label",11),c.kc(3,"Ankunftsdatum"),c.Mb(),c.Nb(4,"ion-datetime",12),c.Vb("ngModelChange",(function(n){return c.fc(t),c.Xb().endDate=n})),c.Mb(),c.Mb(),c.Mb()}if(2&t){const t=c.Xb();c.yb(4),c.ac("min",t.now)("max",t.now+2)("ngModel",t.endDate)}}function d(t,n){if(1&t){const t=c.Ob();c.Nb(0,"div"),c.Nb(1,"ion-item",6),c.Nb(2,"ion-label",13),c.kc(3,"Ankunftsdatum"),c.Mb(),c.Nb(4,"ion-datetime",12),c.Vb("ngModelChange",(function(n){return c.fc(t),c.Xb().endDate=n})),c.Mb(),c.Mb(),c.Mb()}if(2&t){const t=c.Xb();c.yb(4),c.ac("min",t.now)("max",t.now+2)("ngModel",t.endDate)}}function h(t,n){if(1&t){const t=c.Ob();c.Nb(0,"div"),c.Nb(1,"ion-button",14),c.Vb("click",(function(){return c.fc(t),c.Xb().gesuchSearch()})),c.kc(2," Gesuche finden "),c.Mb(),c.Mb()}}function g(t,n){if(1&t){const t=c.Ob();c.Nb(0,"div"),c.Nb(1,"ion-button",14),c.Vb("click",(function(){return c.fc(t),c.Xb().angebotSearch()})),c.kc(2," Angebote finden "),c.Mb(),c.Mb()}}const f=[{path:"",component:(()=>{class t{constructor(t,n){this.angebotService=t,this.gesuchService=n,this.tabSwitch="gesuche",this.startort="",this.zielort="",this.endDate="",this.now=(new Date).getFullYear()}segmentChanged(t){console.log(this.tabSwitch)}gesuchSearch(){console.log(this.endDate),this.transformDate(),console.log(this.endDate),this.gesuchService.startSearch(this.startort,this.zielort,this.endDate)}angebotSearch(){console.log(this.endDate),this.transformDate(),console.log(this.endDate),this.angebotService.startSearch(this.startort,this.zielort,this.endDate)}transformDate(){this.endDate=new Date(this.endDate).toLocaleString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit"})}}return t.\u0275fac=function(n){return new(n||t)(c.Ib(s.a),c.Ib(l.a))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-suchen"]],decls:33,vars:9,consts:[[1,"ion-text-center"],[1,"cargo-content","content-center"],["mode","ios",3,"ngModel","ionChange","ngModelChange"],["value","gesuche"],["value","angebote"],[1,"ion-justify-content-center"],["lines","none"],["position","stacked",1,"label-margin"],[3,"ngModel","ngModelChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],["position","floating",1,"label-margin"],["displayFormat","DD/MM/YYYY","placeholder","Ankunftsdatum w\xe4hlen",3,"min","max","ngModel","ngModelChange"],["position","floating"],["expand","block",1,"bg-green","ion-margin-top",3,"click"]],template:function(t,n){1&t&&(c.Nb(0,"ion-header"),c.Nb(1,"ion-toolbar"),c.Nb(2,"ion-title",0),c.kc(3,"Suchen"),c.Mb(),c.Mb(),c.Mb(),c.Nb(4,"ion-content"),c.Nb(5,"div",1),c.Nb(6,"ion-row"),c.Nb(7,"ion-col"),c.Nb(8,"ion-row"),c.Nb(9,"ion-segment",2),c.Vb("ionChange",(function(t){return n.segmentChanged(t)}))("ngModelChange",(function(t){return n.tabSwitch=t})),c.Nb(10,"ion-segment-button",3),c.Nb(11,"ion-label"),c.kc(12,"Gesuche"),c.Mb(),c.Mb(),c.Nb(13,"ion-segment-button",4),c.Nb(14,"ion-label"),c.kc(15,"Angebote"),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(16,"ion-row",5),c.Nb(17,"ion-list"),c.Nb(18,"ion-item",6),c.Nb(19,"ion-label",7),c.kc(20,"Startort"),c.Mb(),c.Nb(21,"ion-input",8),c.Vb("ngModelChange",(function(t){return n.startort=t})),c.Mb(),c.Mb(),c.Nb(22,"ion-item",6),c.Nb(23,"ion-label",7),c.kc(24,"Zielort"),c.Mb(),c.Nb(25,"ion-input",8),c.Vb("ngModelChange",(function(t){return n.zielort=t})),c.Mb(),c.Mb(),c.Nb(26,"div",9),c.ic(27,b,5,3,"div",10),c.ic(28,d,5,3,"div",10),c.Mb(),c.Mb(),c.Mb(),c.Nb(29,"div",9),c.ic(30,h,3,0,"div",10),c.ic(31,g,3,0,"div",10),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Jb(32,"app-navbar")),2&t&&(c.yb(9),c.ac("ngModel",n.tabSwitch),c.yb(12),c.ac("ngModel",n.startort),c.yb(4),c.ac("ngModel",n.zielort),c.yb(1),c.ac("ngSwitch",n.tabSwitch),c.yb(1),c.ac("ngSwitchCase","gesuche"),c.yb(1),c.ac("ngSwitchCase","angebote"),c.yb(1),c.ac("ngSwitch",n.tabSwitch),c.yb(1),c.ac("ngSwitchCase","gesuche"),c.yb(1),c.ac("ngSwitchCase","angebote"))},directives:[i.r,i.I,i.H,i.n,i.B,i.m,i.C,i.Q,a.e,a.f,i.D,i.w,i.x,i.v,i.u,i.R,o.j,o.k,u.a,i.o,i.g],styles:[".content-center[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:20px;background:#fff;padding:.5rem}ion-item[_ngcontent-%COMP%]{--inner-border-width:0}ion-input[_ngcontent-%COMP%]{--inner-padding:1rem}"]}),t})()}];let m=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(n){return new(n||t)},imports:[[r.j.forChild(f)],r.j]}),t})();var p=e("iWjc");let M=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(n){return new(n||t)},imports:[[o.b,a.a,i.J,m,p.a]]}),t})()},hrlM:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e("fXoL"),a=e("QAk6"),i=e("TEn/");let r=(()=>{class t{constructor(t){this.changePage=t}}return t.\u0275fac=function(n){return new(n||t)(o.Ib(a.a))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-navbar"]],decls:9,vars:0,consts:[[1,"ion-justify-content-around",2,"max-width","600px","margin","auto"],["color","none",3,"click"],["slot","icon-only","name","search-outline"],["slot","icon-only","name","list"],["slot","icon-only","name","person"]],template:function(t,n){1&t&&(o.Nb(0,"ion-footer"),o.Nb(1,"ion-toolbar"),o.Nb(2,"ion-row",0),o.Nb(3,"ion-button",1),o.Vb("click",(function(){return n.changePage.route("suchen")})),o.Jb(4,"ion-icon",2),o.Mb(),o.Nb(5,"ion-button",1),o.Vb("click",(function(){return n.changePage.route("auftraege")})),o.Jb(6,"ion-icon",3),o.Mb(),o.Nb(7,"ion-button",1),o.Vb("click",(function(){return n.changePage.route("profile")})),o.Jb(8,"ion-icon",4),o.Mb(),o.Mb(),o.Mb(),o.Mb())},directives:[i.p,i.I,i.B,i.g,i.s],styles:["ion-toolbar[_ngcontent-%COMP%]{--background:#fff}ion-button[_ngcontent-%COMP%]{background-color:transparent;--box-shadow:none;opacity:.6;--color:#005b52}.active[_ngcontent-%COMP%]{opacity:1}"]}),t})()},wHfo:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var o=e("mrSG"),a=e("lJxs"),i=e("fXoL"),r=e("I/3d"),c=e("tyNb");let s=(()=>{class t{constructor(t,n){this.afs=t,this.router=n,this.startort="",this.zielort="",this.endDate="",this.gesuchCollection=t.collection("gesuche")}static copyAndPrepare(t){const n=Object.assign({},t);return delete n._ID,n.erstellerId=n.erstellerId||null,n.ankunftDatum=n.ankunftDatum||null,n.ankunftZeit=n.ankunftZeit||null,n.abfahrtStrasse=n.abfahrtStrasse||null,n.abfahrtOrt=n.abfahrtOrt||null,n.abfahrtPlz=n.abfahrtPlz||null,n.ankunftStrasse=n.ankunftStrasse||null,n.ankunftOrt=n.ankunftOrt||null,n.ankunftPlz=n.ankunftPlz||null,n.bezahlung=n.bezahlung||null,n.fahrtId=n.fahrtId||null,n.fahrer=n.fahrer||[],n.interessenten=n.interessenten||[],n.lieferobjektId=n.lieferobjektId||null,n}observableGesuch(){return this.gesuchCollection.snapshotChanges().pipe(Object(a.a)(t=>t.map(t=>{const n=t.payload.doc.data();return n._ID=t.payload.doc.id,n})))}findGesuchById(t){return new Promise((n,e)=>{this.gesuchCollection.doc(t).get().toPromise().then(e=>{const o=e.data();o._ID=t,n(o)}).catch(t=>e(t))})}addGesuch(n){return new Promise((e,o)=>{this.gesuchCollection.add(t.copyAndPrepare(n)).then(t=>{const o=n;o._ID=t.id,e({gesuch:o,message:"Document written with ID: "+t.id})}).catch(t=>{o("Error adding document: "+t)})})}deleteGesuch(t){return new Promise((n,e)=>{this.gesuchCollection.doc(t).delete().then(()=>Object(o.a)(this,void 0,void 0,(function*(){n("Successfully deleted Document with ID: "+t)}))).catch(t=>{e("Error deleting document: "+t)})})}updateGesuch(n){return new Promise((e,a)=>{const i=n._ID;this.gesuchCollection.doc(n._ID).update(t.copyAndPrepare(n)).then(()=>Object(o.a)(this,void 0,void 0,(function*(){n._ID=i,e({gesuch:n,message:"Successfully edited Document with ID: "+n._ID})}))).catch(t=>{a("Error editing document: "+t)})})}startSearch(t,n,e){this.startort=t,this.zielort=n,this.endDate=e,this.router.navigate(["/gesuch"])}}return t.\u0275fac=function(n){return new(n||t)(i.Rb(r.a),i.Rb(c.g))},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);