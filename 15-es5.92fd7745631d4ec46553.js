!function(){function e(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(n,r,i){return r&&e(n.prototype,r),i&&e(n,i),n}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"723k":function(e,i,t){"use strict";t.r(i),t.d(i,"ProfilePageModule",(function(){return D}));var o=t("ofXK"),a=t("3Pt+"),c=t("TEn/"),b=t("tyNb"),s=t("mrSG"),l=function e(){r(this,e)},u=t("fXoL"),h=t("AS9q"),g=t("ZETX");function d(e,n){if(1&e&&(u.Nb(0,"ion-text",12),u.ic(1),u.Mb()),2&e){var r=u.Xb();u.yb(1),u.kc(" ",r.errors.get("nummernschild")," ")}}function f(e,n){if(1&e&&(u.Nb(0,"p",12),u.ic(1),u.Mb()),2&e){var r=u.Xb();u.yb(1),u.kc(" ",r.errors.get("marke")," ")}}function m(e,n){if(1&e&&(u.Nb(0,"p",12),u.ic(1),u.Mb()),2&e){var r=u.Xb();u.yb(1),u.kc(" ",r.errors.get("modell")," ")}}function M(e,n){if(1&e&&(u.Nb(0,"p",12),u.ic(1),u.Mb()),2&e){var r=u.Xb();u.yb(1),u.kc(" ",r.errors.get("fahrzeugart")," ")}}function p(e,n){if(1&e&&(u.Nb(0,"p",12),u.ic(1),u.Mb()),2&e){var r=u.Xb();u.yb(1),u.kc(" ",r.errors.get("farbe")," ")}}function N(e,n){if(1&e&&(u.Nb(0,"p",12),u.ic(1),u.Mb()),2&e){var r=u.Xb();u.yb(1),u.kc(" ",r.errors.get("baujahr")," ")}}function y(e,n){if(1&e&&(u.Nb(0,"p",12),u.ic(1),u.Mb()),2&e){var r=u.Xb();u.yb(1),u.kc(" ",r.errors.get("breite")," ")}}function z(e,n){if(1&e&&(u.Nb(0,"p",12),u.ic(1),u.Mb()),2&e){var r=u.Xb();u.yb(1),u.kc(" ",r.errors.get("tiefe")," ")}}function k(e,n){if(1&e&&(u.Nb(0,"p",12),u.ic(1),u.Mb()),2&e){var r=u.Xb();u.yb(1),u.kc(" ",r.errors.get("hoehe")," ")}}function v(e,n){if(1&e){var r=u.Ob();u.Nb(0,"ion-button",13),u.Vb("click",(function(){return u.ec(r),u.Xb().save()})),u.ic(1," Speichern "),u.Mb()}}function w(e,n){if(1&e){var r=u.Ob();u.Nb(0,"ion-button",13),u.Vb("click",(function(){return u.ec(r),u.Xb().dismiss()})),u.ic(1," Zur\xfcck "),u.Mb()}}var C,O=((C=function(){function e(n,i,t){r(this,e),this.modalController=n,this.fahrzeugService=i,this.authService=t,this.fahrzeug=new l,this.detailmode=!0,this.editmode=!1,this.errors=new Map}return n(e,[{key:"ngOnInit",value:function(){}},{key:"save",value:function(){var e=this;0===this.fahrzeug.nummernschild.trim().length&&this.errors.set("nummernschild","Das Nummernschild muss korrekt eingetragen werden!"),0===this.fahrzeug.marke.trim().length&&this.errors.set("marke","Die Marke muss korrekt eingetragen werden!"),0===this.fahrzeug.modell.trim().length&&this.errors.set("modell","Das Modell muss korrekt eingetragen werden!"),0===this.fahrzeug.fahrzeugart.trim().length&&this.errors.set("fahrzeugart","Die Fahrzeugart muss korrekt eingetragen werden!"),0===this.fahrzeug.farbe.trim().length&&this.errors.set("farbe","Die Farbe muss korrekt eingetragen werden!"),this.fahrzeug.baujahr||this.errors.set("baujahr","Das Baujahr muss korrekt eingetragen werden!"),this.fahrzeug.hoehe||this.errors.set("hoehe","Die H\xf6he muss korrekt eingetragen werden!"),this.fahrzeug.breite||this.errors.set("breite","Die Breite muss korrekt eingetragen werden!"),this.fahrzeug.tiefe||this.errors.set("tiefe","Die Tiefe muss korrekt eingetragen werden!"),0===this.errors.size&&(this.editmode?(console.log("schreibt eine editFahrzeug ihr lappen"),this.errors.clear(),this.dismiss()):(this.fahrzeugService.addFahrzeug(this.fahrzeug).then((function(n){var r=e.authService.getUser();r.fahrzeuge.push(n.fahrzeug.id),e.authService.persist(r,r.id)})),this.errors.clear(),this.dismiss()))}},{key:"dismiss",value:function(){this.modalController.dismiss({dismissed:!0})}}]),e}()).\u0275fac=function(e){return new(e||C)(u.Ib(c.K),u.Ib(h.a),u.Ib(g.a))},C.\u0275cmp=u.Cb({type:C,selectors:[["app-fahrzeugdetails"]],inputs:{fahrzeug:"fahrzeug",detailmode:"detailmode",editmode:"editmode"},decls:63,vars:30,consts:[["translucent",""],["slot","end"],[3,"click"],[1,"ion-margin-horizontal"],[1,"ion-text-center"],["position","stacked"],[3,"autofocus","readonly","ngModel","ngModelChange"],["class","ion-text-end ion-padding-end","style","color:var(--ion-color-danger)",4,"ngIf"],[3,"ngModel","readonly","ngModelChange"],[1,"ion-justify-content-center"],["type","number",3,"ngModel","readonly","ngModelChange"],["expand","block","class","bg-green ion-margin-top",3,"click",4,"ngIf"],[1,"ion-text-end","ion-padding-end",2,"color","var(--ion-color-danger)"],["expand","block",1,"bg-green","ion-margin-top",3,"click"]],template:function(e,n){1&e&&(u.Nb(0,"ion-header",0),u.Nb(1,"ion-toolbar"),u.Nb(2,"ion-buttons",1),u.Nb(3,"ion-button",2),u.Vb("click",(function(){return n.dismiss()})),u.ic(4,"Schlie\xdfen"),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Nb(5,"ion-content"),u.Nb(6,"ion-list",3),u.Nb(7,"h2",4),u.ic(8,"Fahrzeugdetails"),u.Mb(),u.Nb(9,"ion-item"),u.Nb(10,"ion-label",5),u.ic(11,"Nummernschild"),u.Mb(),u.Nb(12,"ion-input",6),u.Vb("ngModelChange",(function(e){return n.fahrzeug.nummernschild=e})),u.Mb(),u.hc(13,d,2,1,"ion-text",7),u.Mb(),u.Nb(14,"ion-item"),u.Nb(15,"ion-label",5),u.ic(16,"Marke"),u.Mb(),u.Nb(17,"ion-input",8),u.Vb("ngModelChange",(function(e){return n.fahrzeug.marke=e})),u.Mb(),u.hc(18,f,2,1,"p",7),u.Mb(),u.Nb(19,"ion-item"),u.Nb(20,"ion-label",5),u.ic(21,"Modell"),u.Mb(),u.Nb(22,"ion-input",8),u.Vb("ngModelChange",(function(e){return n.fahrzeug.modell=e})),u.Mb(),u.hc(23,m,2,1,"p",7),u.Mb(),u.Nb(24,"ion-item"),u.Nb(25,"ion-label",5),u.ic(26,"Fahrzeugart"),u.Mb(),u.Nb(27,"ion-input",8),u.Vb("ngModelChange",(function(e){return n.fahrzeug.fahrzeugart=e})),u.Mb(),u.hc(28,M,2,1,"p",7),u.Mb(),u.Nb(29,"ion-item"),u.Nb(30,"ion-label",5),u.ic(31,"Farbe"),u.Mb(),u.Nb(32,"ion-input",8),u.Vb("ngModelChange",(function(e){return n.fahrzeug.farbe=e})),u.Mb(),u.hc(33,p,2,1,"p",7),u.Mb(),u.Nb(34,"ion-item"),u.Nb(35,"ion-label",5),u.ic(36,"Baujahr"),u.Mb(),u.Nb(37,"ion-input",8),u.Vb("ngModelChange",(function(e){return n.fahrzeug.baujahr=e})),u.Mb(),u.hc(38,N,2,1,"p",7),u.Mb(),u.Nb(39,"ion-list-header"),u.ic(40," Ladefl\xe4che "),u.Mb(),u.Nb(41,"ion-row",9),u.Nb(42,"ion-col"),u.Nb(43,"ion-item"),u.Nb(44,"ion-label",5),u.ic(45,"H\xf6he"),u.Mb(),u.Nb(46,"ion-input",10),u.Vb("ngModelChange",(function(e){return n.fahrzeug.hoehe=e})),u.Mb(),u.Mb(),u.Mb(),u.Nb(47,"ion-col"),u.Nb(48,"ion-item"),u.Nb(49,"ion-label",5),u.ic(50,"Breite"),u.Mb(),u.Nb(51,"ion-input",10),u.Vb("ngModelChange",(function(e){return n.fahrzeug.breite=e})),u.Mb(),u.Mb(),u.Mb(),u.Nb(52,"ion-col"),u.Nb(53,"ion-item"),u.Nb(54,"ion-label",5),u.ic(55,"Tiefe"),u.Mb(),u.Nb(56,"ion-input",10),u.Vb("ngModelChange",(function(e){return n.fahrzeug.tiefe=e})),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Nb(57,"ion-row"),u.hc(58,y,2,1,"p",7),u.hc(59,z,2,1,"p",7),u.hc(60,k,2,1,"p",7),u.Mb(),u.hc(61,v,2,0,"ion-button",11),u.hc(62,w,2,0,"ion-button",11),u.Mb(),u.Mb()),2&e&&(u.yb(12),u.ac("autofocus",!0)("readonly",n.detailmode)("ngModel",n.fahrzeug.nummernschild),u.yb(1),u.ac("ngIf",n.errors.get("nummernschild")),u.yb(4),u.ac("ngModel",n.fahrzeug.marke)("readonly",n.detailmode),u.yb(1),u.ac("ngIf",n.errors.get("marke")),u.yb(4),u.ac("ngModel",n.fahrzeug.modell)("readonly",n.detailmode),u.yb(1),u.ac("ngIf",n.errors.get("modell")),u.yb(4),u.ac("ngModel",n.fahrzeug.fahrzeugart)("readonly",n.detailmode),u.yb(1),u.ac("ngIf",n.errors.get("fahrzeugart")),u.yb(4),u.ac("ngModel",n.fahrzeug.farbe)("readonly",n.detailmode),u.yb(1),u.ac("ngIf",n.errors.get("farbe")),u.yb(4),u.ac("ngModel",n.fahrzeug.baujahr)("readonly",n.detailmode),u.yb(1),u.ac("ngIf",n.errors.get("baujahr")),u.yb(8),u.ac("ngModel",n.fahrzeug.hoehe)("readonly",n.detailmode),u.yb(5),u.ac("ngModel",n.fahrzeug.breite)("readonly",n.detailmode),u.yb(5),u.ac("ngModel",n.fahrzeug.tiefe)("readonly",n.detailmode),u.yb(2),u.ac("ngIf",n.errors.get("breite")),u.yb(1),u.ac("ngIf",n.errors.get("tiefe")),u.yb(1),u.ac("ngIf",n.errors.get("hoehe")),u.yb(1),u.ac("ngIf",!n.detailmode),u.yb(1),u.ac("ngIf",n.detailmode))},directives:[c.r,c.G,c.h,c.g,c.n,c.x,c.v,c.w,c.u,c.P,a.e,a.f,o.i,c.y,c.A,c.m,c.L,c.E],styles:["ion-input[_ngcontent-%COMP%]{border-radius:8px!important;border:2px solid #005b52;padding-left:.2rem}ion-input[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]{--color:#005b52}ion-content[_ngcontent-%COMP%]{--background:#fff}"]}),C),P=t("Oj1a"),x=t("ZGwD"),F=t("hrlM");function j(e,n){if(1&e){var r=u.Ob();u.Lb(0),u.Nb(1,"ion-item",21),u.Nb(2,"ion-label"),u.Nb(3,"h2"),u.ic(4),u.Mb(),u.Nb(5,"p"),u.ic(6),u.Mb(),u.Mb(),u.Nb(7,"ion-icon",22),u.Vb("click",(function(){u.ec(r);var e=n.$implicit;return u.Xb().openFahrzeugdetails(e,!1,!0)})),u.Mb(),u.Nb(8,"ion-icon",23),u.Vb("click",(function(){u.ec(r);var e=n.$implicit;return u.Xb().deleteFahrzeug(e.id)})),u.Mb(),u.Nb(9,"ion-icon",24),u.Vb("click",(function(){u.ec(r);var e=n.$implicit;return u.Xb().openFahrzeugdetails(e,!0,!1)})),u.Mb(),u.Mb(),u.Kb()}if(2&e){var i=n.$implicit,t=n.last;u.yb(1),u.ac("lines",t?"none":"full"),u.yb(3),u.lc("",i.marke," ",i.modell,""),u.yb(2),u.jc(i.nummernschild)}}var I,S,_,V=[{path:"",component:(I=function(){function e(n,i,t,o){r(this,e),this.authService=n,this.profileService=i,this.modalController=t,this.fahrzeugService=o,this.user=new P.a("","","",""),this.car={nummernschild:"",marke:"",modell:"",fahrzeugart:"",farbe:"",baujahr:null,hoehe:null,breite:null,tiefe:null},this.cars=[]}return n(e,[{key:"ngOnInit",value:function(){this.user=this.authService.user,this.getUserFahrzeuge(),console.log(this.user),console.log(this.cars)}},{key:"openFahrzeugdetails",value:function(e,n,r){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var t;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalController.create({component:O,cssClass:"my-custom-class",componentProps:{fahrzeug:e,detailmode:n,editmode:r}});case 2:return t=i.sent,i.next=5,t.present();case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}}),i,this)})))}},{key:"getUserFahrzeuge",value:function(){var e=this;this.cars=[],this.user.fahrzeuge.forEach((function(n){var r=e.fahrzeugService.findFahrzeugById(n).subscribe((function(n){r.unsubscribe(),e.cars.push(n)}))}))}},{key:"deleteFahrzeug",value:function(e){var n=this;this.fahrzeugService.deleteFahrzeug(e.id).then((function(r){var i=n.authService.getUser(),t=i.fahrzeuge.indexOf(e.id);i.fahrzeuge.splice(t,1),n.authService.persist(i,i.id),t=n.cars.indexOf(e),n.cars.splice(t,1)}))}}]),e}(),I.\u0275fac=function(e){return new(e||I)(u.Ib(g.a),u.Ib(x.a),u.Ib(c.K),u.Ib(h.a))},I.\u0275cmp=u.Cb({type:I,selectors:[["app-profile"]],decls:46,vars:4,consts:[["name","log-out-outline","slot","end",1,"logout",3,"click"],[1,"ion-margin-horizontal"],[1,"cargo-content"],["lines","none"],["slot","start",2,"height","50px","width","50px"],["src","https://firebasestorage.googleapis.com/v0/b/mycargonaut-8ae2c.appspot.com/o/man.jpeg?alt=media&token=f73fcaba-cdb1-4a80-ac95-3c6defe453bf","alt","profilbild"],[1,"ion-margin"],[1,"stars",2,"height","50px"],["name","star"],["name","star-half-outline"],["name","star-outline"],["lines","full"],["name","mail-outline","slot","start"],["name","call-outline","slot","start"],[1,"ion-justify-content-center"],["size","6"],["expand","block",1,"bg-yellow"],["expand","block",1,"bg-green"],[4,"ngFor","ngForOf"],[1,"add-btn",3,"click"],["name","add","slot","icon-only"],[3,"lines"],["name","create-outline","slot","end",1,"action-btn","icon-green",3,"click"],["name","trash","slot","end",1,"action-btn","icon-yellow",3,"click"],["name","chevron-forward-outline","slot","end",1,"forward-chevron",3,"click"]],template:function(e,n){1&e&&(u.Nb(0,"ion-header"),u.Nb(1,"ion-toolbar"),u.Nb(2,"ion-title"),u.ic(3,"Profil"),u.Mb(),u.Nb(4,"ion-icon",0),u.Vb("click",(function(){return n.authService.logOut()})),u.Mb(),u.Mb(),u.Mb(),u.Nb(5,"ion-content",1),u.Nb(6,"div",2),u.Nb(7,"ion-card"),u.Nb(8,"ion-item",3),u.Nb(9,"ion-avatar",4),u.Jb(10,"ion-img",5),u.Mb(),u.Nb(11,"ion-label",6),u.Nb(12,"h2"),u.ic(13),u.Mb(),u.Nb(14,"h2"),u.ic(15),u.Mb(),u.Mb(),u.Nb(16,"ion-col",7),u.Jb(17,"ion-icon",8),u.Jb(18,"ion-icon",8),u.Jb(19,"ion-icon",8),u.Jb(20,"ion-icon",9),u.Jb(21,"ion-icon",10),u.Mb(),u.Mb(),u.Nb(22,"ion-item",11),u.Nb(23,"p"),u.Jb(24,"ion-icon",12),u.ic(25),u.Mb(),u.Mb(),u.Nb(26,"ion-item",11),u.Nb(27,"p"),u.Jb(28,"ion-icon",13),u.ic(29," 0123 456789 "),u.Mb(),u.Mb(),u.Nb(30,"ion-row",14),u.Nb(31,"ion-col",15),u.Nb(32,"ion-button",16),u.ic(33,"Profil l\xf6schen"),u.Mb(),u.Mb(),u.Nb(34,"ion-col",15),u.Nb(35,"ion-button",17),u.ic(36,"Profil editieren"),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Jb(37,"br"),u.Nb(38,"ion-list-header"),u.ic(39," Meine Fahrzeuge "),u.Mb(),u.Nb(40,"ion-card"),u.hc(41,j,10,4,"ng-container",18),u.Mb(),u.Nb(42,"ion-row",14),u.Nb(43,"ion-button",19),u.Vb("click",(function(){return n.openFahrzeugdetails(n.car,!1,!1)})),u.Jb(44,"ion-icon",20),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Jb(45,"app-navbar")),2&e&&(u.yb(13),u.jc(n.authService.user.vorname||"l\xe4dt..."),u.yb(2),u.jc(n.authService.user.nachname||"l\xe4dt..."),u.yb(10),u.kc(" ",n.authService.user.email," "),u.yb(16),u.ac("ngForOf",n.cars))},directives:[c.r,c.G,c.F,c.s,c.n,c.i,c.v,c.c,c.t,c.w,c.m,c.A,c.g,c.y,o.h,F.a],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.logout[_ngcontent-%COMP%]{padding-right:10px}ion-icon[name=star][_ngcontent-%COMP%]{color:#005b52}.profile-item[_ngcontent-%COMP%]{font-size:1rem}.profile-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.3rem}ion-content[_ngcontent-%COMP%]{display:flex}ion-list-header[_ngcontent-%COMP%]{color:#707070;font-size:1.3rem;font-weight:400;margin-bottom:1rem}.fahrzeuge-wrapper[_ngcontent-%COMP%]{margin-top:1.8rem}.fahrzeuge-box[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:.25rem;font-size:1rem;width:75%;margin-left:auto;margin-right:auto}.action-btn[_ngcontent-%COMP%]{padding:.2rem;font-size:1rem;border-radius:50%;border:1px solid;margin:.2rem}.forward-chevron[_ngcontent-%COMP%]{color:#707070}.add-btn[_ngcontent-%COMP%]{--border-radius:50%;--color:#fff;--background:#005b52;--background-activated:#005b52;--background-hover:#005b52;height:3rem;width:3rem}ion-label[_ngcontent-%COMP%]{--border-color:#1d5a52}.name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.stars[_ngcontent-%COMP%]{text-align:right;font-size:18px}ion-item[_ngcontent-%COMP%]{--border-color:#1d5a52}"]}),I)}],X=((S=function e(){r(this,e)}).\u0275mod=u.Gb({type:S}),S.\u0275inj=u.Fb({factory:function(e){return new(e||S)},imports:[[b.j.forChild(V)],b.j]}),S),J=t("iWjc"),D=((_=function e(){r(this,e)}).\u0275mod=u.Gb({type:_}),_.\u0275inj=u.Fb({factory:function(e){return new(e||_)},imports:[[o.b,a.a,c.H,X,J.a]]}),_)}}])}();