<div *ngIf="this.user.id && angebot._ID">
    <ion-card class="border-card-orange">
        <ion-item lines="none">
            <h3 slot="start">{{angebot.fahrzeugId}}</h3>
            <ion-badge slot="end">{{interessenten}}</ion-badge>
        </ion-item>
        <ion-item lines="none">
            <h4 slot="start">{{angebot.abfahrtOrt}}</h4>
            <ion-icon class="center" name="arrow-forward"></ion-icon>
            <h4 slot="end">{{angebot.ankunftOrt}}</h4>
        </ion-item>
        <ion-item lines="full">
            <p slot="start">Ankunft:</p>
            <p slot="end">{{angebot.ankunftDatum}}, {{angebot.ankunftZeit}}</p>
        </ion-item>
        <ion-icon [class.spin]="dropdown" class="center transition pointer" size="large" name="chevron-down-outline"
                  (click)="dropdown= !dropdown"></ion-icon>
    </ion-card>
    <!-- Dropdown -->
    <ion-card [class.card-dropdown-disabled]="!dropdown" class="card-dropdown">

        <!-- Fahrzeug -->
        <ion-item lines="full" *ngIf="angebot">
            <ion-label slot="start">
                Fahrzeug:
            </ion-label>
            <ion-label>
                Mercedes Vito
            </ion-label>
        </ion-item>

        <!-- Start Adresse -->
        <ion-item lines="full">
            <ion-label slot="start">
                Start Adresse:
            </ion-label>
            <ion-label>
                {{angebot.abfahrtStrasse}},<br>
                {{angebot.abfahrtPlz}} {{angebot.abfahrtOrt}}
            </ion-label>
        </ion-item>
        <!-- Ziel Adresse -->
        <ion-item lines="full">
            <ion-label slot="start">
                Ziel Adresse:
            </ion-label>
            <ion-label>
                {{angebot.ankunftStrasse}},<br>
                {{angebot.ankunftPlz}} {{angebot.ankunftOrt}}
            </ion-label>
        </ion-item>
        <!-- Profil -->
        <ion-item lines="full">
            <ion-label slot="start">
                Ersteller:
            </ion-label>
            <ion-avatar *ngIf="this.angebot.erstellerId" class="ion-margin">
                <img src="{{erstellerBild}}">
            </ion-avatar>
            <ion-label>
                {{erstellerName}}
            </ion-label>
        </ion-item>
        <!-- Telefon -->
        <ion-item lines="full">
            <ion-label slot="start">
                Telefon:
            </ion-label>
            <ion-label>
                0123 456789
            </ion-label>
        </ion-item>
        <!-- Bezahlung -->
        <ion-item lines="full">
            <ion-label slot="start">
                Bezahlung:
            </ion-label>
            <ion-label>
                {{angebot.bezahlung}}
            </ion-label>
        </ion-item>

        <!-- Buttons Angebot -->
        <div *ngIf="this.user.id && this.user.id === this.angebot.erstellerId && angebot._ID" class="ion-text-center ion-margin">
            <ion-button *ngIf="!angebot.fahrtId" (click)="starteFahrt()">Fahrt starten</ion-button>
            <ion-button *ngIf="angebot.fahrtId" (click)="fahrtBeenden()">Fahrt beenden</ion-button>
        </div>
        <div *ngIf="this.user.id && this.user.id !== this.angebot.erstellerId && angebot._ID"class="ion-text-center ion-margin">
            <ion-button *ngIf="angebot.fahrtId && angebot.isInteressent(this.user.id)" disabled="true"><em>Anfrage ausstehend</em></ion-button>
            <ion-button *ngIf="!angebot.fahrtId && angebot.isInteressent(this.user.id)" disabled="true"><em>Anfrage abgelehnt</em></ion-button>
            <ion-button *ngIf="!angebot.fahrtId && angebot.isKunde(this.user.id)" disabled="true"><em>Tracking gesendet</em></ion-button>
            <ion-button *ngIf="angebot.fahrtId && angebot.isKunde(this.user.id)" disabled="true"><em>Fahrt tracken</em></ion-button>
            <ion-button *ngIf="!angebot.isInteressent(this.user.id) && !angebot.isKunde(this.user.id)" (click)="angebotAnfragen()">Anfragen</ion-button>
        </div>
    </ion-card>
</div>

<!-- Skeleton screen -->
<div *ngIf="!(this.user.id && angebot._ID)">
    <ion-card class="ion-padding custom-skeleton border-card-orange">
        <ion-item lines="none">
            <ion-skeleton-text slot="start" animated style="width: 30%"></ion-skeleton-text>
            <ion-skeleton-text slot="end" animated style="width: 10%"></ion-skeleton-text>
        </ion-item>
        <ion-item lines="none">
            <ion-skeleton-text slot="" animated style="width: 25%"></ion-skeleton-text>
            <ion-icon class="center" name="arrow-forward"></ion-icon>
            <ion-skeleton-text slot="" animated style="width: 25%"></ion-skeleton-text>
        </ion-item>
        <ion-item lines="full">
            <ion-skeleton-text slot="start" animated style="width: 30%"></ion-skeleton-text>
            <ion-skeleton-text slot="end" animated style="width: 10%"></ion-skeleton-text>
            <ion-skeleton-text slot="end" animated style="width: 20%"></ion-skeleton-text>
        </ion-item>
        <ion-icon class="center" size="large" name="chevron-down-outline"></ion-icon>
    </ion-card>
</div>
