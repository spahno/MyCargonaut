(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"88mt":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("mrSG"),o=n("lJxs"),r=n("Dxl3"),c=n("fXoL"),s=n("I/3d");let a=(()=>{class e{constructor(e){this.afs=e,this.fahrtCollection=this.afs.collection("fahrt")}static copyAndPrepare(e){const t=Object.assign({},e);return delete t._ID,t}findFahrtById(e){return this.fahrtCollection.doc(e).snapshotChanges().pipe(Object(o.a)(t=>{const n=t.payload.data();return n&&(n._ID=e),Object.assign({},n)}))}startFahrt(){return new Promise((t,n)=>{this.fahrtCollection.add(e.copyAndPrepare(new r.a)).then(e=>{const n=new r.a;n._ID=e.id,t({fahrt:n,message:"Document written with ID: "+e.id})}).catch(e=>{n("Error adding document: "+e)})})}updateFahrt(t){return new Promise((n,o)=>{const r=t._ID;this.fahrtCollection.doc(r).update(e.copyAndPrepare(t)).then(()=>Object(i.a)(this,void 0,void 0,(function*(){t._ID=r,n({fahrt:t,message:"Successfully edited Document with ID: "+r})}))).catch(e=>{o("Error editing document: "+e)})})}endFahrt(e){return new Promise((t,n)=>{const i=this.findFahrtById(e).subscribe(e=>{i.unsubscribe(),e.beendet=!0,this.updateFahrt(e).then(e=>{t(e.fahrt)}).catch(e=>n(e))})})}fahrtBewerten(e,t){return new Promise((n,i)=>{if(t>5)i("Bewertung must be between 0 and 5.");else{const o=this.findFahrtById(e).subscribe(e=>{o.unsubscribe(),0===e.anzahlBewertungen?(e.bewertung=t,e.anzahlBewertungen++):(e.bewertung=(e.bewertung*e.anzahlBewertungen+t)/(e.anzahlBewertungen+1),e.anzahlBewertungen++),this.updateFahrt(e).then(e=>{n(e.fahrt)}).catch(e=>i(e))})}})}deleteFahrt(e){return new Promise((t,n)=>{this.fahrtCollection.doc(e).delete().then(()=>Object(i.a)(this,void 0,void 0,(function*(){t("Successfully deleted Document with ID: "+e)}))).catch(e=>{n("Error deleting document: "+e)})})}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(s.a))},e.\u0275prov=c.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},AS9q:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),o=n("lJxs"),r=n("fXoL"),c=n("I/3d");let s=(()=>{class e{constructor(e){this.afs=e,this.fahrzeugCollection=this.afs.collection("fahrzeug"),this.userCollection=this.afs.collection("users")}static copyAndPrepare(e){const t=Object.assign({},e);return delete t.id,t}findFahrzeugById(e){return this.fahrzeugCollection.doc(e).snapshotChanges().pipe(Object(o.a)(t=>{const n=t.payload.data();return n&&(n.id=e),Object.assign({},n)}))}addFahrzeug(t){return new Promise((n,i)=>{this.fahrzeugCollection.add(e.copyAndPrepare(t)).then(e=>{const i=t;i.id=e.id,n({fahrzeug:i,message:"Document written with ID: "+e.id})}).catch(e=>{i("Error adding document: "+e)})})}deleteFahrzeug(e){return new Promise((t,n)=>{this.fahrzeugCollection.doc(e).delete().then(()=>Object(i.a)(this,void 0,void 0,(function*(){t("Successfully deleted Document with ID: "+e)}))).catch(e=>{n("Error deleting document: "+e)})})}}return e.\u0275fac=function(t){return new(t||e)(r.Rb(c.a))},e.\u0275prov=r.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Dxl3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){this.anzahlBewertungen=0,this.beendet=!1}}},QIET:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}},euJG:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("mrSG"),o=n("Oj1a"),r=n("fXoL"),c=n("ZETX"),s=n("TEn/"),a=n("ofXK");function u(e,t){if(1&e&&(r.Lb(0),r.Nb(1,"ion-item",6),r.Nb(2,"p"),r.kc(3),r.Mb(),r.Mb(),r.Nb(4,"ion-item",6),r.Nb(5,"p"),r.kc(6),r.Mb(),r.Mb(),r.Nb(7,"ion-item",6),r.Nb(8,"p"),r.kc(9),r.Mb(),r.Mb(),r.Kb()),2&e){const e=r.Xb();r.yb(3),r.nc("",e.fahrzeug.marke||"Keine Marke hinterlegt!"," ",e.fahrzeug.modell||"Kein Modell hinterlegt!",""),r.yb(3),r.mc("Fahrzeugart: ",e.fahrzeug.fahrzeugart||"Keine Fahrzeugart hinterlegt!",""),r.yb(3),r.oc("",e.fahrzeug.hoehe||"Keine H\xf6he hinterlegt!","m x ",e.fahrzeug.breite||"Keine breite hinterlegt!","m x ",e.fahrzeug.tiefe||"Keine tiefe hinterlegt!","m")}}function b(e,t){if(1&e&&(r.Lb(0),r.Nb(1,"ion-item",6),r.Nb(2,"p"),r.kc(3),r.Mb(),r.Mb(),r.Nb(4,"ion-item",6),r.Nb(5,"p"),r.kc(6),r.Mb(),r.Mb(),r.Nb(7,"ion-item",6),r.Nb(8,"p"),r.kc(9),r.Mb(),r.Mb(),r.Kb()),2&e){const e=r.Xb();r.yb(3),r.lc(e.lieferobjekt.name||"Kein Name hinterlegt!"),r.yb(3),r.mc("Preis: ",e.lieferobjekt.preis||"Kein Preis hinterlegt!",""),r.yb(3),r.lc(e.lieferobjekt.beschreibung||"Keine Beschreibung hinterlegt!")}}let h=(()=>{class e{constructor(e,t){this.authService=e,this.modalController=t,this.interessent=new o.a("","","","")}dismissClickPopover(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.modalController.dismiss()}))}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(c.a),r.Ib(s.M))},e.\u0275cmp=r.Cb({type:e,selectors:[["app-profil-popover"]],inputs:{interessent:"interessent",lieferobjekt:"lieferobjekt",fahrzeug:"fahrzeug"},decls:33,vars:6,consts:[["src","https://firebasestorage.googleapis.com/v0/b/mycargonaut-8ae2c.appspot.com/o/man.jpeg?alt=media&token=f73fcaba-cdb1-4a80-ac95-3c6defe453bf","alt","profilbild"],[1,"name"],[1,"stars"],["name","star"],["name","star-half-outline"],["name","star-outline"],["lines","full"],["name","mail-outline","slot","start"],["name","call-outline","slot","start"],[4,"ngIf"],[1,"ion-justify-content-center"],[1,"accept",3,"click"]],template:function(e,t){1&e&&(r.Nb(0,"ion-content"),r.Nb(1,"ion-card"),r.Nb(2,"ion-card-content"),r.Nb(3,"ion-grid"),r.Nb(4,"ion-row"),r.Nb(5,"ion-col"),r.Jb(6,"img",0),r.Mb(),r.Nb(7,"ion-col"),r.Nb(8,"p",1),r.kc(9),r.Mb(),r.Mb(),r.Nb(10,"ion-col",2),r.Jb(11,"ion-icon",3),r.Jb(12,"ion-icon",3),r.Jb(13,"ion-icon",3),r.Jb(14,"ion-icon",4),r.Jb(15,"ion-icon",5),r.Mb(),r.Mb(),r.Mb(),r.Nb(16,"ion-item",6),r.Nb(17,"p"),r.Jb(18,"ion-icon",7),r.kc(19),r.Mb(),r.Mb(),r.Nb(20,"ion-item",6),r.Jb(21,"p"),r.Nb(22,"p"),r.Jb(23,"ion-icon",8),r.kc(24),r.Mb(),r.Mb(),r.Jb(25,"br"),r.Jb(26,"br"),r.ic(27,u,10,6,"ng-container",9),r.ic(28,b,10,3,"ng-container",9),r.Nb(29,"ion-row",10),r.Nb(30,"ion-list"),r.Nb(31,"button",11),r.Vb("click",(function(){return t.dismissClickPopover()})),r.kc(32,"Schlie\xdfen"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&e&&(r.yb(9),r.nc("",t.interessent.vorname||"Kein Vorname hinterlegt!"," ",t.interessent.nachname||"Kein Nachname hinterlegt!",""),r.yb(10),r.mc(" ",t.interessent.email||"Keine Email hinterlegt!"," "),r.yb(5),r.mc(" ",t.interessent.telefon||"Keine Telefonnummer hinterlegt!"," "),r.yb(3),r.ac("ngIf",t.fahrzeug),r.yb(1),r.ac("ngIf",t.lieferobjekt))},directives:[s.n,s.i,s.j,s.q,s.B,s.m,s.s,s.v,a.i,s.x],styles:["@media only screen and (min-width:768px){.abbrechen[_ngcontent-%COMP%]{visibility:hidden}}.abbrechen[_ngcontent-%COMP%]{width:200px;height:50px;border-radius:10px;font-size:20px;color:#fff;background-color:red}ion-card[_ngcontent-%COMP%]{border-radius:30px;background-color:#fff}img[_ngcontent-%COMP%]{border-radius:50%;width:75px;height:75px}.accept[_ngcontent-%COMP%]{width:200px;height:50px;border-radius:10px;color:#fff;background-color:#1d5a52}.accept[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:20px}p[_ngcontent-%COMP%]{color:#1d5a52}ion-item[_ngcontent-%COMP%]{--border-color:#1d5a52}.name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.stars[_ngcontent-%COMP%]{text-align:right;font-size:18px}"]}),e})()},hrlM:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("fXoL"),o=n("QAk6"),r=n("TEn/");let c=(()=>{class e{constructor(e){this.changePage=e}}return e.\u0275fac=function(t){return new(t||e)(i.Ib(o.a))},e.\u0275cmp=i.Cb({type:e,selectors:[["app-navbar"]],decls:9,vars:0,consts:[[1,"ion-justify-content-around",2,"max-width","600px","margin","auto"],["color","none",3,"click"],["slot","icon-only","name","search-outline"],["slot","icon-only","name","list"],["slot","icon-only","name","person"]],template:function(e,t){1&e&&(i.Nb(0,"ion-footer"),i.Nb(1,"ion-toolbar"),i.Nb(2,"ion-row",0),i.Nb(3,"ion-button",1),i.Vb("click",(function(){return t.changePage.route("suchen")})),i.Jb(4,"ion-icon",2),i.Mb(),i.Nb(5,"ion-button",1),i.Vb("click",(function(){return t.changePage.route("auftraege")})),i.Jb(6,"ion-icon",3),i.Mb(),i.Nb(7,"ion-button",1),i.Vb("click",(function(){return t.changePage.route("profile")})),i.Jb(8,"ion-icon",4),i.Mb(),i.Mb(),i.Mb(),i.Mb())},directives:[r.p,r.I,r.B,r.g,r.s],styles:["ion-toolbar[_ngcontent-%COMP%]{--background:#fff}ion-button[_ngcontent-%COMP%]{background-color:transparent;--box-shadow:none;opacity:.6;--color:#005b52}.active[_ngcontent-%COMP%]{opacity:1}"]}),e})()},qOEh:function(e,t,n){"use strict";n.r(t),n.d(t,"GesuchPageModule",(function(){return k}));var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),c=n("tyNb"),s=n("mrSG"),a=n("Oj1a"),u=n("fXoL"),b=n("wHfo"),h=n("ZETX"),l=n("hrlM"),f=n("fpJl");function d(e,t){1&e&&u.Jb(0,"app-gesuch-card")}const g=function(){return[0,1,2]};function p(e,t){1&e&&(u.Lb(0),u.ic(1,d,1,0,"app-gesuch-card",4),u.Kb()),2&e&&(u.yb(1),u.ac("ngForOf",u.cc(1,g)))}function m(e,t){if(1&e&&u.Jb(0,"app-gesuch-card",6),2&e){const e=t.$implicit,n=u.Xb(2);u.ac("inputGesuch",e)("inputUser",n.user)}}function w(e,t){if(1&e&&(u.Lb(0),u.ic(1,m,1,2,"app-gesuch-card",5),u.Kb()),2&e){const e=u.Xb();u.yb(1),u.ac("ngForOf",e.filtertGesuche)}}const y=[{path:"",component:(()=>{class e{constructor(e,t){this.gesuchService=e,this.authService=t,this.user=new a.a("","","",""),this.gesuche=[],this.filtertGesuche=[]}ngOnInit(){this.authService.loadPageSubscription(e=>this.user=e),this.subGesuch=this.gesuchService.observableGesuch().subscribe(e=>Object(s.a)(this,void 0,void 0,(function*(){this.gesuche=[],this.filtertGesuche=[],this.gesuche=e,this.filterGesuche()})))}ngOnDestroy(){this.subGesuch.unsubscribe()}filterGesuche(){const e=this.gesuchService.startort.toLowerCase(),t=this.gesuchService.zielort.toLowerCase(),n=this.gesuchService.endDate;if(e&&t&&n)for(const i of this.gesuche){const o=i.abfahrtOrt.toLowerCase().includes(e),r=i.ankunftOrt.toLowerCase().includes(t),c=i.ankunftDatum===n;o&&c&&r&&this.filtertGesuche.push(i)}else this.filtertGesuche=this.gesuche}}return e.\u0275fac=function(t){return new(t||e)(u.Ib(b.a),u.Ib(h.a))},e.\u0275cmp=u.Cb({type:e,selectors:[["app-gesuch"]],decls:11,vars:2,consts:[["slot","start"],["defaultHref","login"],[1,"cargo-content"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"inputGesuch","inputUser",4,"ngFor","ngForOf"],[3,"inputGesuch","inputUser"]],template:function(e,t){1&e&&(u.Nb(0,"ion-header"),u.Nb(1,"ion-toolbar"),u.Nb(2,"ion-title"),u.kc(3,"Gesuche"),u.Mb(),u.Nb(4,"ion-buttons",0),u.Jb(5,"ion-back-button",1),u.Mb(),u.Mb(),u.Mb(),u.Nb(6,"ion-content"),u.Nb(7,"div",2),u.ic(8,p,2,2,"ng-container",3),u.ic(9,w,2,1,"ng-container",3),u.Mb(),u.Mb(),u.Jb(10,"app-navbar")),2&e&&(u.yb(8),u.ac("ngIf",t.filtertGesuche.length<1),u.yb(1),u.ac("ngIf",t.filtertGesuche.length>0))},directives:[r.r,r.I,r.H,r.h,r.d,r.e,r.n,i.i,l.a,i.h,f.a],styles:[""]}),e})()}];let M=(()=>{class e{}return e.\u0275mod=u.Gb({type:e}),e.\u0275inj=u.Fb({factory:function(t){return new(t||e)},imports:[[c.j.forChild(y)],c.j]}),e})();var v=n("iWjc");let k=(()=>{class e{}return e.\u0275mod=u.Gb({type:e}),e.\u0275inj=u.Fb({factory:function(t){return new(t||e)},imports:[[i.b,o.a,r.J,M,v.a]]}),e})()},vObQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),o=n("lJxs"),r=n("fXoL"),c=n("I/3d");let s=(()=>{class e{constructor(e){this.afs=e,this.objektCollection=this.afs.collection("lieferObjekt")}static copyAndPrepare(e){const t=Object.assign({},e);return delete t._ID,t}findLieferobjektById(e){return this.objektCollection.doc(e).snapshotChanges().pipe(Object(o.a)(t=>{const n=t.payload.data();return n&&(n._ID=e),Object.assign({},n)}))}addLieferobjekt(t){return new Promise((n,i)=>{this.objektCollection.add(e.copyAndPrepare(t)).then(e=>{const i=t;i._ID=e.id,n({lieferobjekt:i,message:"Document written with ID: "+e.id})}).catch(e=>{i("Error adding document: "+e)})})}deleteLieferobjekt(e){return new Promise((t,n)=>{this.objektCollection.doc(e).delete().then(()=>Object(i.a)(this,void 0,void 0,(function*(){t("Successfully deleted Document with ID: "+e)}))).catch(e=>{n("Error deleting document: "+e)})})}}return e.\u0275fac=function(t){return new(t||e)(r.Rb(c.a))},e.\u0275prov=r.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);